<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Accept what was and what is, and you&apos;ll have more positive energy to pursue what will be.">
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Accept what was and what is, and you&apos;ll have more positive energy to pursue what will be.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="Accept what was and what is, and you&apos;ll have more positive energy to pursue what will be.">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Hexo </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Hexo</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/template.min/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            html{color:#000;background-color:transparent}blockquote,body,code,dd,div,dl,dt,fieldset,form,h1,h2,h3,h4,h5,h6,input,legend,li,ol,p,pre,td,textarea,th,ul{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:400}ol,ul{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}q:after,q:before{content:""}abbr,acronym{border:0;font-variant:normal}sup{vertical-align:text-top}sub{vertical-align:text-bottom}input,select,textarea{font-family:inherit;font-size:inherit;font-weight:inherit}legend{color:#000}body{margin:0;padding:0}.bd-logo,.bd-logo4,.feed-logo{text-decoration:none;cursor:pointer;display:none;overflow:hidden;position:absolute;bottom:0;right:0;z-index:2147483647}.bd-logo{height:16px;width:16px;right:30px;background:url(img/pc-logo_1x.png) no-repeat left top;background-size:cover;background-position:0 0}.bd-logo:hover{width:52px;height:16px;right:30px;background:url(img/pc-logo-marketing_1x.png) no-repeat left top;background-size:cover}.bd-logo4{height:14px;width:14px;bottom:0;right:26px;background:url(img/mob-logo_2x.png) no-repeat left top;background-size:cover;background-position:center}.feed-logo{width:12px;height:12px;background:url(img/feedLogo.png) no-repeat left top;background-size:cover}.loader{text-align:center;width:90%;font-size:9pt;padding:8px;border:1px solid #aaa;margin-top:30px;display:none}.cf:after,.cf:before{content:"\20";display:table}.cf:after{clear:both}.textOverflow{white-space:nowrap;overflow:hidden;display:inline-block;width:100%}.textOverflowEllipsis{text-overflow:ellipsis}.textOverflowClip{text-overflow:clip}.bd-adIcon{width:30px;height:16px;background:url(img/pc-adIcon_1x.png) no-repeat left top;background-size:cover;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src="img/pc-adIcon_2x.png",sizingMethod="scale")}.bd-adIcon,.mob-bd-adIcon,.feed-adIcon{position:absolute;right:0;bottom:0;overflow:hidden;z-index:2147483647;text-decoration:none}.mob-bd-adIcon{width:26px;height:14px;background:url(img/mob-adIcon_2x.png) no-repeat left top;background-size:cover}.feed-adIcon{width:23px;height:12px;background:url(img/feedIcon.png) no-repeat left top;background-size:cover}
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/notify/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            (function(window, undefined) {
  var protocol = window.location.protocol;
  var localUreadData=[],hasNewMsg=false,hasGetData=false;
  try {
    var aaInput = document.createElement('input');
    aaInput.type = "hidden";
    aaInput.id = "aa_g_data_ids";
    document.getElementsByTagName('body')[0].appendChild(aaInput);
  } catch(e) {};
  var defaults = {
    realtime: protocol+'//s{0}-im-notify.csdn.net'
    , api: protocol+'//internalapi.csdn.net/notify/message' //'//svc-notify.csdn.net'
    , app:'http://msg.csdn.net'
    , space: protocol+'//my.csdn.net/'
    , count: 5
    , subCount: 5
    , staticUrl: protocol+'//csdnimg.cn/rabbit/notev2/'
    , cssUrl: 'css/style.css'
    , 'realtime.js': 'js/realtime.js' // base staticUrl
    // , 'channel': 'message'
    , 'socket.io.js': 'js/socket.io.js'
    // , 'socket.io options': { transports: ["xhr-polling", "jsonp-polling"]}
  }
  //
  , csdn = window.csdn || (window.csdn = {})
  , isShowMsg = true
    // && location.search === '?smsg=1' // DEV
  , friendlyErrors = {
    'timeout': '请求超时，请检查网络后重试！'
    , 'abort': '请求被中止！'
    , 'parsererror': '解析错误，请检查网络后重试！'
    , 'No id supplied': '未登录或登录超时，请重新登录！'
    , 'locked': ''
  }
  ;
var getCookie =function (objName){//获取指定名称的cookie的值
      var arrStr = document.cookie.split("; ");
      for(var i = 0;i < arrStr.length;i ++){
      var temp = arrStr[i].split("="); 
      if(temp[0] == objName) return decodeURI(temp[1]);
      } 
  }
//

  if (Function.prototype.bind === undefined) {
    Function.prototype.bind = function (ctx) {
      var self = this;
      return function () {
        self.apply(ctx, [].slice(arguments, 0));
      };
    };
  }

  function log() {
    if (typeof console !== 'undefined') {
      Function.prototype.apply.call(console.log, console, Array.prototype.slice.call(arguments));
    }
  }

  var $
    , currUser = { username: '' } //登录用户对象
    ;

  csdn.note = function(conf) {
    $ = jQuery;

    //配置项
    this.conf = conf;

    //Dom节点
    this.Dom = {};

    //初始化
    this.init();
  };

  csdn.note.prototype = {
    /*
     * 【初始化入口】
     */
    init: function() {
      var self = this, opts = self.conf;
      opts.wrap = $('#' + opts.wrapId);
      if(typeof opts.count === 'string') {
        opts.count = parseInt(opts.count, 10) || undefined;
      }
      if(typeof opts.subCount === 'string') {
        opts.subCount = parseInt(opts.subCount, 10) || undefined;
      }
      
      self.conf = $.extend({}, defaults,
        //
        opts);

      //初始化消息列表
      self.getDoms();

      //检查用户登录
      self.checkLogin(function(data) {
        //
        if(isShowMsg) {
          //加载样式与事件
          self.loadCss(self.staticUrl(self.conf.cssUrl));
          self.addEvent();
        }
        // 初始化实时系统
        self.initRealtime();
      });
    },
    loadCss : function(src, callback){
      $('<link rel="stylesheet" type="text/css">').appendTo('head:first').load(function(){
        callback && callback();
      }).attr('href', src);
    },
    /**
     * 显示指定范围的.loading元素，返回一个函数，执行后将隐藏loading
     * @param  {String} [selector=''] css选择器，配合ctx决定使用哪个.loading
     * @param  {jQuery Object} ctx=wrap .loading所在的上下文
     * @return {Function(Function(Boolean loading) doneCallback)}
     * 隐藏已显示的.loading元素，并在隐藏完毕后调用doneCallback
     * loading参数用于指示.loading当前还在显示中（共享loading时会有这种状况）
     */
    loading: function (selector, ctx) {
      var self = this
        , ctx = typeof selector === 'object' ? selector : self.Dom.wrap
        , selector = typeof selector === 'string' ? selector : ''
        , el = $(selector + ' .loading', ctx)
        , num = (el.data('loadingCount') || 0) + 1
        , completed = false
        ;
      el.show().data('loadingCount', num);
      return function (callback) {
        if(completed) return;
        num = el.data('loadingCount') - 1;
        if(num <= 0)="" {="" num="0;" el.fadeout('fast',="" function(){="" el.hide();="" jquery="" 1.4.3存在的bug，当fadeout元素的父元素不可视时，fadeout不会改变元素display="" callback="" &&="" callback(false);="" });="" }="" else="" callback(true);="" el.data('loadingcount',="" num);="" completed="true;" },="" emptycb:="" function="" ()="" {},="" wrapcb:="" var="" args="[].slice.call(arguments," 0);="" return="" (callback)="" callback.apply(args);="" };="" toggleempty:="" (toggle,="" ctx,="" list)="" ctx="typeof" 'string'="" ?="" $(ctx,="" this.dom.wrap)="" :="" ctx;="" $('.empty',="" ctx).toggle(toggle="" !$(list,="" ctx)[0]);="" staticurl:="" (url)="" todo="" 可配置不同url使用不同时间戳="" this.conf.staticurl="" +="" url="" '?4d63d1f';="" on:="" (type,="" data,="" handler)="" this.dom.wrap.bind(type,="" handler);="" this;="" emit:="" params)="" this.dom.wrap.triggerhandler(type,="" lock:="" (id,="" callback)="" self="this;" if(self.lockers="==" undefined)="" self.lockers="{};" if(!id="" ||="" !self.lockers[id])="" id为null="" 空白字符串等表示不使用lock="" self.lockers[id="" '']="true;" callback(null,="" callback('locked',="" self.emptycb);="" **="" *="" 填充this.dom，建立必要的背景iframe="" 注意：此时css尚未加载，所以样式都没生效="" getdoms:="" function()="" wrap="this.Dom.wrap" =="" this.conf.wrap="" ,="" tip="wrap.next()" ;="" if(!tip.is('.csdn_notice_tip'))="" this.dom.tip="tip;" this.dom.btn="this.conf.btn;" wrap.append('<iframe="" src="about:block" frameborder="0" allowtransparency="true" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent">');
      return this;
    },
    resetPosition: function () {
      var self = this
        , offset = self.Dom.btn.offset()
        ;
      self.Dom.wrap.css({
        left: offset.left - 212 + 'px',
        top: offset.top + 25 + 'px'
      });
      self.Dom.tip.css({
        left: offset.left - 72 + 'px',
        top: offset.top + 18 + 'px'
      });
    },
    changeToNickname: function (ctx) {
      var self = this;
      ctx = ctx || self.Dom.wrap;
      var users = $('.user_name', ctx).filter(function(){
        return !$(this).data('nickname');
      });
	  var usernames = users.map(function(){ return this.innerHTML; }).get().join();
      if(usernames) { //users[0]) {
        $.getJSON('//internalapi.csdn.net/passport/openapi/get/nick?callback=?' + '&x-acl-token=Q7A5sLruDh5NJynptr73u8lvH0MK', { //passport.csdn.net/get/nick
          users: usernames //users.map(function(){ return this.innerHTML; }).get().join()
        }, function(data){
          var dataList=data.data;
          users.each(function (i) {
            for(var j=0;j<datalist.length;j++){ if(users[i].innerhtml="=" datalist[j].u){="" this.innerhtml="dataList[j].n;" $(this).data('nickname',="" true);="" break;="" }="" });="" },="" addevent:="" function()="" {="" var="" self="this" ,="" unreads="-1" hasreadeditems="false" keepunread="false" notifications="" ;="" self.unreads="unreads;" self.initpanel();="" self.dom.wrap);="" self.dom.btn.click(function(e,="" params)="" self.emit('panel_showed',="" params);="" if(self.dom.wrap.toggle().is(':visible'))="" self.dom.tip.hide();="" else="" self.emit('tip_showing');="" return="" false;="" $(window).resize(function(e){="" self.resetposition();="" $(document).click(function(e)="" t="e.target;" try="" if(!$.contains(self.dom.wrap[0],="" t)="" &&="" !$.contains(self.dom.tip[0],="" t))="" $(document).trigger('notify-hide');="" catch(e)="" log(e);="" $('.notice_list_con="" .notice_content',="" self.dom.wrap).unbind('click');="" self.dom.wrap).bind('click',="" function="" (e)="" target="e.target" item="$(target).parents(".list")" index="item.index()" detail="$('.detail_con" .notice_content=""> *:eq(' + index + ')', self.Dom.wrap)
           ;


        item.hasClass("unread")&&self.setReaded([{containIds:item.attr("data-ids").split(",")}],function(data){
          keepUnread = true;
          item.removeClass('unread');
          //去除已读id
          var _strReadedIds = item.attr("data-ids");
          var _unread = [],_item={};
          for(var i=0;i<localureaddata.length;i++){ _item="localUreadData[i];" if(_item.containids.join()="==" _strreadedids){="" localureaddata.splice(i,1);="" }="" self.emit('tip_showing');="" });="" detail.addclass('curr').show().siblings().removeclass('curr').hide();="" if(!item.hasclass("noslide")){="" self.goslide(notifications.eq(0),="" notifications.eq(1),="" 'right').emit('detail_showed',="" [detail,="" index]);="" if(item.hasclass("action")&&target.tagname="="A"){" self.doaction({="" id:$(item).attr("data-ids").split(",")[0]*1,="" dataapi:$(".callback",item).attr("data-api"),="" args:$(target).attr("data-api")="" },function(err,="" data){="" $(".callback",item).html(data.msg);="" $(".callback",detail).html(data.msg);="" var="" oevent="e" ||="" event;="" if(oevent="" &&="" oevent.preventdefault)="" {="" 阻止默认浏览器动作(w3c)="" oevent.preventdefault();="" oevent.stoppropagation();="" else="" ie中阻止函数器默认动作的方式="" window.event.returnvalue="false;" oevent.cancelbubble="true;" return="" false;="" $('.detail_con="" .notice_content',="" self.dom.wrap).delegate('.item_title',="" 'click',="" function="" (e)="" target="e.target" ,="" item="$(target).parents(".detail_list")" index="item.index()" list="$('.notice_list_con" .notice_content=""> *:eq(' + index + ')', self.Dom.wrap);
        
        if(item.hasClass("action")&&target.tagName=="A"){
          self.doaction({
            id:$(item).attr("data-ids").split(",")[0]*1,
            dataApi:$(".callback",item).attr("data-api"),
            args:$(target).attr("data-api")
          },function(err, data){
            $(".callback",item).html(data.msg);
            $(".callback",list).html(data.msg);
          });
        }
      });

      //当trigger click时，会将事件源对象变成这个close节点，扰乱了其它js的判断逻辑。
      function hidecb(){
        self.Dom.wrap.hide();
        self.emit('tip_showing');
      }

      $(document).bind("notify-hide",function(){
        hidecb();
      });

      $('.csdn_note .close1', self.Dom.wrap).click(function () {
        hidecb();
      });

      $('.go_back', self.Dom.wrap).click(function () {
        self.goSlide(notifications.eq(1), notifications.eq(0), 'left');
        self.emit('panel_showed');
      });
      //$('.read_all', self.Dom.wrap).click(function () {
      //  self.setAllReaded();
      //  return false;
      //});
      $('.prvnote, .nextnote', self.Dom.wrap).click(function () {
        var el = $(this);
        if(el.hasClass('disabled')) return;
        var form = $('.detail_con .notice_content .curr', self.Dom.wrap)
          , to = form[el.hasClass('prvnote') ? 'prev' : 'next']()
          , index = to.index()
          ;
        if (~index) {
          $('.notice_list_con .notice_content > *:eq(' + index + ')', self.Dom.wrap).removeClass('unread');
          $([form[0], to[0]]).toggleClass('curr');
          self.goSlide(form, to, el.hasClass('prvnote') ? 'left' : 'right').emit('detail_showed', [to, index]);
        }
      });

      self.on('panel_showed', function (e, showDetail) {
        self.resetPosition();

        if (!hasReadedItems) {
          $('.notice_content', self.Dom.wrap).empty();
          self.getAllReaded(self.showListCbWrap(function (err, data, loading) {
            hasReadedItems = true;
          }));
        }
        if(showDetail&&showDetail.data){
          self.fillList("prepend",showDetail);
          self.slideReset();
          hasGetData = true;
          hasNewMsg = false;
        }
        // 显示面板内容
        else if (localUreadData.length > 0&&hasNewMsg) {
          hasNewMsg = false;
          self.getUnreads(self.showListCbWrap(function (err, data, loading) {
              localUreadData = data.data;
              hasNewMsg = false;
              self.emit('tip_showing');
          }));
        }
        
        if (hasGetData) {
          self.Dom.wrap.one('list_showed', function (e, err) {
            if (err) {
              self.error(err);
            } else {
              if(showDetail) {
                var unreadsItem = $('.notice_list_con .unread', self.Dom.wrap);
                if(unreadsItem.length === 1) {
                  unreadsItem.trigger('click');
                }
              }
            }
          });
        }
      }).on('detail_showed', function (e, detail, index) {
        // 显示通知详情
        $('.detail_con .prvnote', self.Dom.wrap).toggleClass('disabled', !(index > 0));
        $('.detail_con .nextnote', self.Dom.wrap).toggleClass('disabled', !detail.next()[0]);
        if (!detail.data('loaded') && !$('dd', detail)[0] && !$('.empty:visible', detail)[0] && !$('.loading:visible', detail)[0]) {
          self.getDetail(detail);
        }
      }).on('tip_showing', function () {
        keepUnread = true;
        // if ($('.notice_list_con', self.Dom.wrap).css('display') !== 'none') {
        //   $('.notice_list_con .notice_content .unread', self.Dom.wrap).removeClass('unread');
        // }
        self.initBtn();
        if (localUreadData.length > 0) {
          self.resetPosition();
          $('strong', self.Dom.tip.show()).html(localUreadData.length);
          $('.icon-hasnotes',self.Dom.btn).show();
          //派发给toolbar
        }else{
          $('.icon-hasnotes',self.Dom.btn).hide();
        }
        $(document).trigger("toolbar-setNotesNum",localUreadData.length);
      }).on('receive_unreads', function (e, data) {
        
        data.initUnreadIds&&(localUreadData = data.initUnreadIds);
        // 收到未读消息实时通知 typeof data === number123123

        //data.realtimeMsg&&localUreadData = data.realtimeMsg;
        //self.unreads = unreads = (unreads === -1 ? 0 : unreads) + data;

        if (self.Dom.wrap.is(':visible')) {
          if($('.notice_list_con', self.Dom.wrap).is(':visible')){
            if(data.realtimeMsg){
              self.emit('panel_showed',{
                data:data.data
              });
            }else{
              self.emit('panel_showed');
            }
          }
        } else {
          self.emit('tip_showing');
        }
      }).on('receive_setreaded', function (e, data) {
        var _len = localUreadData.length;
        // 收到设置为已读实时通知 typeof data === array or number
        if (keepUnread) {
        } else { // TODO 如果焦点在当前浏览器窗口，什么都不做
          // 非查看窗口收到已读通知时需要重置状态，以便再次打开时能正确显示通知
          self.unreads = _len;
          hasReadedItems = false;
        }
        
        if (_len <= 0)="" {="" self.dom.tip.hide();="" $(".icon-hasnotes",self.dom.btn).hide();="" }="" $('strong',="" self.dom.tip).html(_len);="" });="" $('.close2',="" self.dom.tip).click(function="" ()="" self.setreaded([],="" function(){="" $('.tip_text',="" self.dom.btn.trigger('click'="" ,="" ['show="" one="" and="" only="" unread="" detail']="" 点击未读消息提示框后，如果未读条目只有一条，则自动进入哪一条未读="" );="" return="" self;="" },="" initbtn:="" if(this.conf.btn.find(".icon-hasnotes").length<="0){" this.conf.btn.html('<div="" class="icon-hasnotes" style="display:none">');
      }
    },
    //<span class="title"><a href="' + this.conf.app + '/" target="_blank" class="read_all">全部设为已读</a><a href="' + this.conf.app + '/" target="_blank" class="go_all">查看所有通知</a></span>\
    initPanel: function () {
      $('.box', this.Dom.wrap).append('\
<div class="notifications notice_list_con curr">\
  <div class="menu_title">\
    <span class="title"><a href="http://msg.csdn.net/letters" target="_blank" class="read_all">查看所有私信</a><a href="http://msg.csdn.net" target="_blank" class="go_all">查看所有通知</a></span>\
  </div>\
  <div class="loading"></div>\
  <div class="empty">暂没有新通知</div>\
  <div class="notice_content" style="overflow-y: auto; max-height: 270px;"></div>\
</div>\
<div class="notifications detail_con" style="display: none">\
  <div class="menu_title">\
    <span class="title">\
      <a class="go_back" href="javascript:void 0;" target="_blank" rel="external">返回通知列表</a>\
      <a class="notifications_page_none nextnote" href="javascript:void 0;" target="_blank" rel="external">下一条</a>\
      <a class="notifications_page prvnote" href="javascript:void 0;" target="_blank" rel="external">上一条</a>\
    </span>\
  </div>\
  <div class="notice_content" style="overflow-y: scroll; height: 250px;"></div>\
</div>\
<div class="error"></div>');
    },
    fillList: function(insert, data) {
      if(!data || !data.data || !data.data.length) return;
      data = data.data;
      var self = this
        , wrap = self.Dom.wrap
        , list = new Array(data.length)
        , details = new Array(data.length)
        ;
      $.each(data, function (i, v) {
        var action = v.isaction?" action ":"";
        var isslide = !v.isslide?" noslide ":"";
        var dataIds=(function(){
          var _ids = [];
          for(var i=0,len=v.containIds.length,item=v.containIds;i<len;i++){ _ids.push(item[i]*1);="" }="" return="" _ids.join(",");="" })();="" try="" {="" var="" aaainput="document.getElementById("aa_g_data_ids");" cv="aaaInput.value;" if="" (cv.indexof(dataids="" +="" "|")="">= 0) {
            return;
          }
          aaaInput.value += dataIds + "|";
        } catch(e) {}
        list[i] = '\
<dl data-ids="'+dataIds+'" class="list rev_type'+v.type + (insert === 'append' ? '' : ' unread')+isslide+action+'" style="/*display: none*/">\
  <dt>\
    <i></i>\
    <span class="item_title">' + v.title + '</span>\
    <span class="count_down">' + v.time + '</span>\
  </dt>\
</dl>';
        var remain = v.containIds.length - self.conf.subCount;
        details[i]='\
<div style="/*display: none*/">\
  <dl class="detail_list rev_type' + v.type +isslide+action+ '" data-ids="' + v.containIds.join() + '">\
    <dt>\
      <i></i>\
      <span class="item_title">' + self.ubbDecode(v.longTitle) + '</span>\
      <span class="count_down"></span>\
    </dt>\
  </dl>\
  <div class="loading"></div>\
  <div class="empty">暂没有新通知</div>\
  <a class="notifications_more" target="_blank">查看其它 0 条</a>\
</div>';
      });
      $('.notice_list_con .notice_content', wrap)[insert](list.join(''));
      $('.detail_con .notice_content', wrap)[insert](details.join(''));
      self.changeToNickname();
    },
    fillDetail: function (detail, data) {
      if(!data || !data.data || !data.data.length) return;
      var bodyTpl = data.bodyTpl
        , self = this
        , dl = $('dl', detail)
        , html
        ;
      data = data.data;

      if (data[0].body) {
        html = $.map(data, function (v) {
          return self.feTemplate(bodyTpl).render({
            userlink:self.conf.space + v.from_user,
            from_user:v.from_user,
            body:self.ubbDecode(v.body).replace(//g, '&gt;'),
            time:v.time
          });
        }).join('');
        if (html) {
          dl.append(html);
          var remain = dl.attr('data-ids').split(',').length - data.length
            , url = data[0].url
            ;
          if(remain > 0 && url) {
            $('.notifications_more', detail).html(function (i, v) {
              return v.replace(/\d+/g, remain);
            }).attr('href', url).addClass('block');
          }
        }
      }
      if (!html) {
        $('dt .count_down', detail).html(data[0].time);
        detail.data('loaded', true);
      }
      self.changeToNickname(dl);
    },
    /**
     * 显示列表的回调包装。和getUnreads，getAllReaded配合使用，包含一些通用的操作，以及触发必要的事件
     * @param  {Function} callback 当正常获取到数据时的回调
     * @return {Function} 包装之后的回调函数
     */
    showListCbWrap: function (callback) {
      var self = this;
      return function (err, data, loading) {
        if (err) {
          self.emit('list_showed', [err]);
        } else {
          callback && callback(err, data, loading);
          if (!loading) {
            var list = $('.notice_list_con .notice_content > .list', self.Dom.wrap);
            // 调整可见消息数量
            if (list.filter(':visible').length === 0) {
              var n = list.filter('.unread').length;
              if(n < self.conf.count) {
                n = self.conf.count;
              }
              list.slice(n).remove();
              $('.detail_con .notice_content > *', self.Dom.wrap).slice(n).remove();
            }
            list.show();
            self.slideReset();
            self.emit('list_showed');
          }
        }
      };
    },
    error: function (msg) {
      var self = this, func = arguments.callee;
      if(func.init === undefined) {
        func.ele = $('.error', self.Dom.wrap);
        self.on('panel_showed detail_showed', function () {
          func.ele.hide();
        });
        func.init = true;
      }
      msg = friendlyErrors[msg] !== undefined ? friendlyErrors[msg] : msg;
      func.ele.toggle(!!msg).html(msg);
    },
    invokeAPI: function (url, params, opts, callback) {
      var self = this
        , opts = opts || {}
        , callback = callback || self.emptyCb
        ;
      self.lock(opts.lock === undefined || opts.lock ? url : null, function (err, unlock) {
        if(err) {
          callback(err);
          return;
        }
        var done = opts.loading === undefined || opts.loading ? self.loading(opts.container) : self.wrapCb(false)
          , data
          , completed = false
          , complete = function (xhr, status) {
            if(completed) return;
            done(function (loading) {
              if(status && status !== 'success') {
                callback(status, null, loading);
              } else {
                if(data.status !== 200) {
                  callback(data.error || data.status, data, loading);
                } else {
                  if(opts.list) {
                    // /detail/i.test(url) && (data.data = []); // DEV
                    self.toggleEmpty(!loading && data.data && !data.data.length, opts.container, opts.list);
                  }
                  callback(null, data, loading);
                }
              }
              unlock();
              completed = true;
            });
          }
          ;
        setTimeout(function () {
          complete(null, 'timeout');
        }, 20000);
        $.ajax({
          url: self.conf.api + url + '&x-acl-token=5Vu6fEzxC8N9axs3eaFgJktN-KcK',
          data: params,
          dataType: 'jsonp', // TODO jsonp方式调用不能产生正确的timeout错误等，考虑换成支持跨域的xhr(在ff chrome ie8+)
          success: function (json) {
            if(completed) return;
            data = json;
          },
          complete: complete
        });
      });
    },
    getUnreads: function (callback) {
      var self = this;
      self.invokeAPI('/get_unread?jsonpcallback=?', {}, {
        container: '.notice_list_con',
        list: '.notice_content > .list'
      }, function (err, data, loading) {
        self.fillList('prepend', data);
        callback && callback(err, data, loading);
      });
    },
    doaction : function(data,callback){
      var self = this;
      self.invokeAPI('/do_action?jsonpcallback=?', {
          id:data.id,
          dataApi:data.dataApi+"?me="+currUser.username+'&'+data.args,
        }, {
      }, function (err, data, loading) {
        callback && callback(err, data, loading);
      });
    },
    getAllReaded: function (callback) {
      var self = this;
      self.invokeAPI('/get_all?jsonpcallback=?', {
        username: currUser.username,
        status: 1,
        count: self.conf.count || 5,
        subcount: self.conf.subcount || 5
      }, {
        container: '.notice_list_con',
        list: '.notice_content > .list'
      }, function (err, data, loading) {
        self.fillList('append', data);
        callback && callback(err, data, loading);
      });
    },
    setAllReaded: function(){
     if(!localUreadData.length){
        return;
     }
     this.setReaded([],function(){
        $(".csdn_note .unread").each(function(i){
           $(this).removeClass("unread");
           localUreadData=[];
        });
     });
    },
    setReaded: function (data, next) {
      var self = this;
      self.invokeAPI('/set_readed?jsonpcallback=?', {
        ids: $.map(data, function (i) {
          return i.containIds.join();
        }).join()
      }, {
        loading: false
      },function(data){
        next&&next(data);
      });
    },
    getlocalUnread: function(){
      return localUreadData;
    },
    isGetAll: function(){
      return hasGetData;
    },
    isHasNewMsg: function(){
      return hasNewMsg;
    },
    getDetail: function(detail, start, limit){
      var self = this
        , ids = $('dl', detail).attr('data-ids').split(',')
        ;
      start = start || 0;
      limit = limit || self.conf.subCount;
      if (ids.length > 0) {
        self.invokeAPI('/get_details?jsonpcallback=?', {
          ids: ids.slice(start, start + limit).join()
        }, {
          container: detail,
          list: 'dl > dd',
          lock: false
        }, function (err, data) {
          if (err) {
            self.error(err);
          } else {
            self.fillDetail(detail, data);
          }
        });
      }
    },
    /**
     * 动画切换
     * @param  {jQuery Object} from     动画开始的元素
     * @param  {jQuery Object} to       动画结束的元素
     * @param  {String} direction       to在from的左边还是右边, left right
     */
    goSlide: function(from, to, direction) {
      var self = this
        , speed = 110
          // + 3000 // DEV
        , offsetW = from.width()
        , content = to.parents('.notice_content:first')
        , fromComplete, toComplete
        ;

      self.emit('goSliding');

      if (!to.hasClass('curr')) {
        from.removeClass('curr');
        to.addClass('curr');
      }

      from.css({
        position: 'relative'
      });

      to.css({
        position: 'absolute'
        , top: 0
        , left: (direction === 'left' ? -offsetW : offsetW) + 'px'
        , width: offsetW
      }).show();

      content.height(function (i, v) {
        return v - from.height() + Math.max(from.height(), to.height());
      });

      fromComplete = function () {
        from.css('position', '').hide();
      };
      from.animate({
        left: (direction === 'left' ? offsetW : -offsetW) + 'px'
      }, speed, fromComplete);

      toComplete = function () {
        to.css({
          position: ''
          , top: ''
          , left: ''
        });
        content.css('height', '');
      };
      to.animate({ left: 0 }, speed, toComplete);

      self.Dom.wrap.one('goSliding', function () {
        from.stop();
        fromComplete.call(from[0]);
        to.stop();
        toComplete.call(to[0]);
      });

      return this;
    },
    slideReset: function() {
      var self = this
        , container = $('.notice_list_con .notice_content', self.Dom.wrap)
        , items = container.children().filter(':visible')
        ;
      $('.notifications', this.Dom.wrap).eq(0).addClass('curr').show().end()
        .slice(1).hide();
        ;
      if(items.length > self.conf.count) {
        // container.css({
        //   overflow: 'auto'
        //   , height: '255px'
        // });
        container.addClass("hover-overflow");
      }
    },
    /*
     * 【LOGIC】检查登录
     */
    checkLogin: function(callback) {
        try{
          currUser.username = getCookie("UserName") || currUser.username;
          currUser.userInfo = getCookie("UserInfo") || currUser.userInfo;
          currUser.username && callback && callback(currUser.username);
        }catch(e){
          log(e);
        }
    },
    initRealtime: function () {
      var self = this;
      // 兼容独立和合并的realtime.js
      if(csdn.RealtimeClient === undefined) {
        $.ajax({
          url: self.staticUrl(self.conf['realtime.js'])
          , dataType: 'script'
          , cache: true // 已通过staticUrl对外链文件提供了缓存支持，getScript()可能会始终在url结尾加时间戳
          , success: arguments.callee.bind(self)
        });
        return;
      }
      self.conf['socket.io.js'] = self.staticUrl(self.conf['socket.io.js']);
      self.realtimeClient = new csdn.RealtimeClient($.extend({
        channel: currUser.username
      }, self.conf), function (msg) {
        // 分发收到的实时消息
        if(typeof msg === 'object') {
          if(msg.setReaded) {
            self.emit('receive_setreaded', [msg.setReaded]);
          }
          if(msg.initUnreadIds&&msg.initUnreadIds.length){
            hasNewMsg = true;
            self.emit('receive_unreads', msg);
          }
          if(msg.realtimeMsg){
            hasNewMsg = true;
            localUreadData = localUreadData.concat(msg.data);
            self.emit('receive_unreads', msg);
          }
        }
      });
    },
    /*
    * UBB转义
    */
    ubbDecode : function(content){
      var _this = this;
      content = $.trim(content);
      var re = /\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/ig;

      function replaceQuote(str) {
        var m = /\[quote=([^\]]+)]([\s\S]*)\[\/quote\]/gi.exec(str);
        if (m) {
            return str.replace(m[0], '<fieldset><legend>引用“<span class="user_name">' + m[1] + '</span>”的评论：</legend>' + replaceQuote(m[2]) + '</fieldset>');
        } else {
            return str;
        }
      }
      var codelist = [];
      while ((mc = re.exec(content)) != null) {
          codelist.push(mc[0]);
          content = content.replace(mc[0], "--code--");
      }
      content = replaceQuote(content);
      content = content.replace(/\[reply]([\s\S]*?)\[\/reply\][\r\n]{0,2}/gi, "回复<span class="user_name">$1</span>：");
      content = content.replace(/\[url=([^\]]+)]([\s\S]*?)\[\/url\]/gi, '<a href="$1" target="_blank">$2</a>');
      content = content.replace(/\[img(=([^\]]+))?]([\s\S]*?)\[\/img\]/gi, '<img src="$3" style="max-width:200px;max-height:100px;" border="0" title="$2">');
      content = content.replace(/\r?\n/ig, "<br>");

      if (codelist.length > 0) {
          var re1 = /--code--/ig;
          var i = 0;
          while ((mc = re1.exec(content)) != null) {
              content = content.replace(mc[0], codelist[i]);
              i++;
          }
      }
      content = content.replace(/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/ig, function (m0, m1, m2) {
          if ($.trim(m2) == "") return '';
          return '<pre name="code2" class="' + m1 + '">' + _this.HTMLEncode(m2) + '</pre>';
      });

      content = content.replace(/(<br\s\s*>|<br>)/ig, function (m0) {
          if ($.trim(m0) == "") return '';
          //return _this.HTMLEncode(m0);
          return "&nbsp;&nbsp;";
      });
      //针对转义的"做处理
      content = content.replace(/(\\&quote\;|\&quote\;)/ig, function (m0) {
          if ($.trim(m0) == "") return '';
          //return _this.HTMLEncode(m0);
          return "";
      });
      return content;
    },
    HTMLEncode : function(str) {
      var s = "";
      if(str.length == 0) return "";
      s = str.replace(/&/g, "&amp;").replace(//g, "&gt;").replace(/\'/g, "&#39;").replace(/\"/g, "&quot;");
      return s;
    },

    /**
    * 简单模板替换
    * @param  {String} tempStr 待替换字符串
    * @return {String}         替换后的html
    */
    feTemplate : function(tempStr){
      // TODO 未处理模板字段重复出现的问题       [fixed]
      //      未处理返回的模板对象复用的问题     [fixed]
      // 测试用例 //jsfiddle.net/SdzfU/2/
      
      return {
          render:function(conf){
            var result=tempStr;
            for(var name in conf){
                if(conf.hasOwnProperty(name)){
                    result=result.replace(new RegExp("{"+"%"+name+"%"+"}","g"),conf[name]);
                }
            }
            return result;
          }
      }
    }
  };

})(window);

(function($, window, undefined) {
  if ($ === undefined) {
    // 按需加载jQuery
    var done = false
      , callback = arguments.callee
      , script = document.createElement('script')
      , head = document.getElementsByTagName('head')[0] || document.documentElement
      ;
    script.src = '//csdnimg.cn/www/js/jquery-1.4.2.min.js';
    script.charset = 'utf-8';
    script.onload = script.onreadystatechange = function () {
      if(!done && (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete')) {
        done = true;
        try {
          callback(window.jQuery, window);
        } catch(e) {
          window.console && window.console.log(e);
        }

        script.onload = script.onreadystatechange = null;
        if(head && script.parentNode) {
          head.removeChild(script);
        }
      }
    };
    head.insertBefore(script, head.firstChild);
    return;
  }

  // 初始化通知面板
  var script = $("#noticeScript")
    , opts = {
      instance: 'csdn_note'
      , btnId: script.attr('btnId') || 'header_notice_num'
      , wrapId: 'note1'
    }
    ;
  opts.btn = $('#' + opts.btnId);
  if(!opts.btn[0]) {
    return;
  }

  $.map(['instance', 'wrapId'
    , 'realtime', 'api', 'app', 'space', 'count', 'subCount'
    , 'staticUrl', 'cssUrl'
    , 'realtime.js', 'channel', 'socket.io.js', 'socket.io options'], function (v) {
    opts[v] = script.attr(v.replace(/[. ]/g, '-')) || opts[v];
  });

  if(opts.instance === "csdn_note") {
    $('\
<div id="note1" class="csdn_note" style="display:none; position:absolute; z-index:9999; width:440px">\
  <span class="notice_top_arrow"><span class="inner"></span></span>\
  <div class="box"></div>\
</div>').insertBefore(script);
  }
  $('\
<div class="csdn_notice_tip" style="display:none; position:absolute; z-index:9990; width:170px">\
  <iframe src="about:blank" frameborder="0" scrolling="no" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent"></iframe>\
  <div class="tip_text">您有<strong>0</strong>条新通知</div>\
  <a href="javascript:void 0" class="close2" target="_blank" rel="external"></a>\
</div>').insertBefore(script).hide();

  window[opts.instance] = new csdn.note(opts);

})(window.jQuery, window);
</br\s\s*></len;i++){></=></localureaddata.length;i++){></datalist.length;j++){></=>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/pub_footer_2014/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            .pub_fo{width:100%; background-color:#fff;margin-top: 10px; overflow:hidden;border-top: 1px solid #f0f0f0}
.pub_footer_new{width:1170px; overflow: hidden; margin: 0 auto 20px;}
@media (max-width: 1170px) {
	.pub_footer_new {   
		width: 98%;
	}
}
.pub_footer_new dl,.pub_footer_new dt,.pub_footer_new dd{margin: 0px; padding: 0px;}
.pub_footer_new .foot_sub_menu{width:100%; border-bottom: 1px solid #e0e0e0; font-size:14px; overflow: hidden; margin-top:15px;}
.pub_footer_new .foot_sub_menu a{color:#666; font-family: 'microsoft yahei'; text-decoration: none; display: block; height:20px; float: left; margin-bottom: 10px;}
.pub_footer_new .foot_sub_menu a:hover{color:#cc0000;}
.pub_footer_new .foot_sub_menu span{color:#d1d1d1; padding: 0 8px;display: block; float: left; height:20px;margin-bottom: 10px;}

.pub_footer_new .foot_contact{ font-family: 'microsoft yahei'; font-size:12px; overflow:hidden;width:100%; }
.pub_footer_new .foot_contact .qq{ display: block; float: left; height: 35px; line-height:35px; padding-left:20px; background:url(../images/qq_icon.png) left 10px no-repeat; margin-right:9px;color:#666; text-decoration: none;}
.pub_footer_new .foot_contact .qq:hover{background:url(../images/qq_icon.png) left -25px no-repeat;}

.pub_footer_new .foot_contact .weibo{ display: block; float: left; height: 35px; line-height:35px; padding-left:23px; background:url(../images/weibo_icon.png) left 10px no-repeat; margin-right:9px;color:#666;text-decoration: none;}
.pub_footer_new .foot_contact .weibo:hover{background:url(../images/weibo_icon.png) left -25px no-repeat;}

.pub_footer_new .foot_contact .email{ display: block; float: left; height: 35px; line-height:35px; padding-left:20px; background:url(../images/mail_icon.png) left 11px no-repeat; margin-right:9px;color:#666;text-decoration: none;}

.pub_footer_new .foot_contact .email:hover{background:url(../images/mail_icon.png) left -27px no-repeat;}

.pub_footer_new .foot_contact .phone{ display: block; float: left; height: 35px; line-height:35px; padding-left:20px; background:url(../images/phone_icon.png) left 11px no-repeat; color:#666;}

.pub_footer_new .foot_contact span{display: block; float: left; height: 35px; line-height:35px;color:#666;}
.pub_footer_new .interval{color:#d1d1d1; padding: 0 6px; margin:0px;}

.pub_footer_new .foot_copyright{font-size: 12px; color:#9c9c9c;font-family: 'microsoft yahei';width:100%;}
.pub_footer_new .foot_copyright span{display: block; float: left;height: 21px; line-height: 21px;}
.pub_footer_new .foot_copyright a{display: block; float: left;height: 21px; line-height: 21px;}
.pub_footer_new .foot_copyright a img{height:21px; padding-left: 10px;}

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/JavaScript1/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            ; (function () {
    protocol = location.protocol.substr(0, 4) === 'http' ? '' : 'http:';
    document.write("<link rel="stylesheet" type="text/css" href="" + protocol + "//csdnimg.cn/pubfooter/css/pub_footer_2014.css">");
    document.write("<div class="pub_fo">");
    document.write("<div id="pub_footerall" class="pub_footer_new">");
    document.write("<dl>");
    document.write("<dt></dt>");
    document.write(" <dd class="foot_sub_menu"><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a><span>|</span><a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a><span>|</span><a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a><span>|</span><a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a><span>|</span><a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a><span>|</span><a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a><span>|</span><a href="mailto:webmaster@csdn.net" target="_blank" rel="external">问题报告</a><span>|</span><a target="_blank" href="http://www.csdn.net/friendlink.html">合作伙伴</a><span>|</span><a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a></dd>");
    document.write("<dd class="foot_contact"><a href="javascript:void(0);" target="_blank" class="qq">网站客服</a><a href="http://wpa.qq.com/msgrd?v=3&uin=2251809102&site=qq&menu=yes" target="_blank" class="qq">杂志客服</a><a href="http://e.weibo.com/csdnsupport/profile" target="_blank" class="weibo">微博客服</a><a href="mailto:webmaster@csdn.net" class="email" title="联系邮箱" target="_blank" rel="external">webmaster@csdn.net</a><span class="phone" title="服务热线">400-600-2320</span><span class="interval">|</span><span>北京创新乐知信息技术有限公司 版权所有</span><span class="interval">|</span><span>江苏知之为计算机有限公司</span><span class="interval">|</span><span>江苏乐知网络技术有限公司</span></dd>");
    document.write("<dd class="foot_copyright"><span>京&nbsp;ICP&nbsp;证&nbsp;09002463&nbsp;号</span><span class="interval">|</span><span>Copyright &copy; 1999-2016, CSDN.NET, All Rights Reserved&nbsp;</span><a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="http://c.csdnimg.cn/pubfooter/images/gongshang_logos.gif" alt="GongshangLogo" title=""></a></dd>");
    document.write("</dl>");
    document.write("</div>");
    document.write("</div>");
    document.write('<script id="noticeScript" type="text/javascript" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" src="' + protocol + '//csdnimg.cn/rabbit/notev2/js/notify.js?9d86d94"></script>');

    /*
    var head = document.getElementsByTagName('head')[0]
        , s, ss = [
            protocol + '//csdnimg.cn/rabbit/tracking-ad/main.js?75eacd8'
        ]
    ;

    for (var i = 0; i < ss.length; i++) {
        s = document.createElement('script')
        s.type = 'text/javascript';
        s.charset = 'utf-8';
        s.src = ss[i];
        head.insertBefore(s, null);
    }
    */
    $(".qq:first").click(function (event) {
        var qqs = [2431299880, 3456678348, 3455921142];
        var qq = (new Date().getDay() == 0 || new Date().getDay() == 6) ? qqs[0] : qqs[Math.floor(Math.random() * qqs.length)];;
        $(this).attr('href', 'http://wpa.qq.com/msgrd?v=3&uin=' + qq + '&site=qq&menu=yes');
    });

}());
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/newblog.min/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            /*plugins.js*/
;
(function($) {
    $.fn.extend({selection: function() {
        var selectedValue = '';
        var me = this[0];
        if (document.selection) {
            var range = document.selection.createRange();
            selectedValue = range.text;
        }
        else if (typeof (me.selectionStart) == 'number') {
            var start = me.selectionStart;
            var end = me.selectionEnd;
            if (start != end) {
                selectedValue = me.value.substring(start, end);
            }
        }
        return $.trim(selectedValue);
    },parseHtml: function(val) {
        var me = this[0];
        var value = $(this).val();
        if (document.selection) {
            var range = document.selection.createRange();
            if (range.text) {
                range.text = val;
            } else {
                $(this).val(value + val);
            }
        } else if (typeof (me.selectionStart) == 'number') {
            var start = me.selectionStart;
            var end = me.selectionEnd;
            var startVal = value.substring(0, start);
            var endVal = value.substring(end);
            $(this).val(startVal + val + endVal);
        }
        else
            $(this).val(value + val);
        me.selectionStart = me.selectionEnd = $(this).val().length;
        me.focus();
    }});
})(jQuery);
jQuery.cookie = function(name, value, options) {
    if (typeof value != 'undefined') {
        options = options || {};
        if (value === null) {
            value = '';
            options.expires = -1;
        }
        var expires = '';
        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if (typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString();
        }
        var path = options.path ? '; path=' + (options.path) : '';
        var domain = options.domain ? '; domain=' + (options.domain) : '';
        var secure = options.secure ? '; secure' : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');
    } else {
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};
jQuery.createMask = function() {
    var height = document.documentElement.clientHeight;
    var width = document.documentElement.clientWidth;
    var bodyHeight = $("body").height();
    if (bodyHeight > height) {
        height = bodyHeight;
    }
    var mask = {};
    if ($("#mask_div").length == 0) {
        $("body").append('<div id="mask_div" style="position:absolute;top:0;left:0;filter:alpha(opacity=20);-moz-opacity:0.2;opacity:.2;"></div>')
    }
    mask = $("#mask_div");
    mask.css({"width": width,"height": height,"background": "#000"});
};
jQuery.removeMask = function() {
    $("#mask_div").remove();
};
Array.prototype.contain = function(val) {
    for (var i = 0; i < this.length; i++) {
        if (this[i] === val) {
            return true;
        }
    }
    return false;
}
/*common.js*/
$(document).ready(function() {
   
    $("#btnSubmit").click(function () {
        var key = $("#inputSearch").val();
        if (key == "") {
            alert("请输入搜索关键字");
            $("#inputSearch").focus();
            return false;
        }
        $("#inputQ").val('blog:' + username + ' ' + key);
        return true;
    });
    
    initArchives();
    
   
    initDigg();
    buildCTable();
    initShareButtons();
   
});
function initArchives() {
    var shortlist = '';
    var hidelist = '';
    var list = $("#archive_list");
    list.children().each(function(i) {
        if (i < 5)
            shortlist += "<li>" + $(this).html() + "</li>";
        else
            hidelist += "<li>" + $(this).html() + "</li>";
    });
    if (hidelist == '')
        return;
    hidelist = '<span class="hidelist" style="display:none;">' + hidelist + '</span>';
    list.html(shortlist + hidelist + '<div id="archive_list_button" class="list_closed">展开</div>');    
    $("#archive_list_button").click(function () {
        if ($(this).html() == "展开"){
            $(this).html("收起");
            $(this).removeClass("list_closed").addClass("list_opended");
            $(".hidelist", list).show();
        }else{
            $(this).html("展开");
            $(this).removeClass("list_opended").addClass("list_closed");
            $(".hidelist", list).hide();
        }
    });


}
function initShareButtons() {
    var panel = $("#sharePanel");
    if (panel.length == 0)
        return;
    var url = encodeURIComponent(document.location);
    var title = encodeURIComponent(document.title);
    var shareto = {"sina": function() {
        var _u = 'http://v.t.sina.com.cn/share/share.php?url=' + url + '&title=' + title;
        var imgs = $(".article_content img");
        if (imgs.length > 0) {
            _u += "&pic=" + encodeURIComponent(imgs[0].src);
        }
        openWindow(_u);
    },"qq": function() {
        var _site = 'http://blog.csdn.net';
        var _u = 'http://v.t.qq.com/share/share.php?url=' + url + '&site=' + _site + '&title=' + title;
        var imgs = $(".article_content img");
        if (imgs.length > 0) {
            _u += "&pic=" + encodeURIComponent(imgs[0].src);
        }
        openWindow(_u);
    }};
    $("#sharePanel").html('<span>分享到：</span> <a name="sina" class="share_sina" title="分享到新浪微博"></a><a name="qq" class="share_qq" title="分享到腾讯微博"></a>');
    $("#sharePanel a").each(function() {
        var name = $(this).attr("name");
        if (!name)
            return;
        $(this).click(function() {
            shareto[name]();
            return false;
        });
    });
}
function initDigg() {
    var diggdiv = $("#digg");
    if (diggdiv.length > 0) {
        var articleId = diggdiv.attr("ArticleId");
        $("#btnDigg,#btnBury").click(function () {
                if ($(this).attr("class") == "digg digg_disable")
                {
                    return;
                }
                var id = $(this).attr("id");
                var action = id == "btnDigg" ? "digg" : "bury";
                //blog_address = "http://dev.blog.csdn.net:5391/csdntest01";
                $.get(blog_address + "/article/" + action + "?ArticleId=" + articleId, function (data) {
                    $("#btnDigg dd").html(data.digg);
                    $("#btnBury dd").html(data.bury);                    
                });          
        });
    }
}
function initBodyHeight() {
    var siderHeight = $("#sider").height();
    var mainHeight = $("#main").height();
    if (siderHeight > mainHeight) {
        $("#body").height(siderHeight);
    }
    else {
        $("#body").height(mainHeight + 100);
    }
}
function collectArticle(title, fileName) {
    openWindow("http://wz.csdn.net/storeit.aspx?t=" + encodeURIComponent(title) + "&u=" + blog_address + "/article/details/" + fileName, title);
}
function untopArticle(articleId) {
    if (!confirm("你确定要取消置顶这篇文章吗？"))
        return;
    $.get(blog_address + "/article/untop?articleId=" + articleId, function(txt) {
        var data = eval("(" + txt + ")");
        if (data.result) {
            alert("文章已取消置顶！");
            location.reload();
        } else {
            if (data.content)
                alert(data.content);
            else
                alert("无法取消置顶，请到后台操作！");
        }
    });
}
function deleteArticle(articleId) {
    if (!confirm("你确定要删除这篇文章吗？"))
        return;
    $.get(blog_address + "/article/delete?articleId=" + articleId, function(txt) {
        var data = eval("(" + txt + ")");
        if (data.result) {
            alert("文章已删除！");
            location.reload();
        } else {
            if (data.content)
                alert(data.content);
            else
                alert("无法删除，请到后台删除！");
        }
    });
}
function openWindow(url, title) {
    var _t = title || encodeURI(document.title);
    var _u = url || encodeURIComponent(document.location);
    var f = function() {
        var left = (screen.width - 600) / 2;
        var top = (screen.height - 450) / 2;
        if (!window.open(url, '', 'toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=400'))
            location.href = url;
    }
    if (/Firefox/.test(navigator.userAgent))
        setTimeout(f, 0);
    else
        f();
}
function report(id, t, e) {
    $.createMask();
    var url = blog_address + "/common/report?id=" + id + "&t=" + t;
    if (t == 3) {
        var floor = e.parentNode.parentNode.parentNode.getAttribute('floor');
        url += "&floor=" + floor;
    }
    var top = (document.documentElement.clientHeight - 400) / 2 + (document.documentElement.scrollTop || document.body.scrollTop);
    var left = (document.documentElement.clientWidth - 400) / 2;
    $("#report_dialog").load(url).css({"top": top + "px","left": left}).show();
}
function getCalendar(time) {
    $("#calendar").load(blog_address + "/Article/Calendar?time=" + time + "&.calendar");
    return false;
}
;
function buildCTable() {
    var hs = $('#article_content').find('h1,h2,h3,h4,h5,h6');
    if (hs.length < 2)
        return;
    var s = '';
    s += '<div style="clear:both"></div>';
    s += '<div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;">';
    s += '<p style="text-align:right;margin:0;"><span style="float:left;">目录<a href="#" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="#" onclick="javascript:return openct(this);" title="展开">[+]</a></p>';
    s += '<ol style="display:none;margin-left:14px;padding-left:14px;line-height:160%;">';
    var old_h = 0, ol_cnt = 0;
    for (var i = 0; i < hs.length; i++) {
        var h = parseInt(hs[i].tagName.substr(1), 10);
        if (!old_h)
            old_h = h;
        if (h > old_h) {
            s += '<ol>';
            ol_cnt++;
        }
        else if (h < old_h && ol_cnt > 0) {
            s += '</ol>';
            ol_cnt--;
        }
        if (h == 1) {
            while (ol_cnt > 0) {
                s += '</ol>';
                ol_cnt--;
            }
        }
        old_h = h;
        var tit = hs.eq(i).text().replace(/^\d+[.、\s]+/g, '');
        tit = tit.replace(/[^a-zA-Z0-9_\-\s\u4e00-\u9fa5]+/g, '');

        if (tit.length < 100) {
            s += '<li><a href="#t' + i + '">' + tit + '</a></li>';
            hs.eq(i).html('<a name="t' + i + '"></a>' + hs.eq(i).html());
        }
    }
    while (ol_cnt > 0) {
        s += '';
        ol_cnt--;
    }
    s += '</div>';
    s += '<div style="clear:both"></div>';
    $(s).insertBefore($('#article_content'));
}
function openct(e) {
    if (e.innerHTML == '[+]') {
        $(e).attr('title', '收起').html('[-]').parent().next().show();
    } else {
        $(e).attr('title', '展开').html('[+]').parent().next().hide();
    }
    e.blur();
    return false;
}
/*blogger.js*/
$(document).ready(function () {
    
    var un = getUN().toLowerCase();
    if (un == _blogger.toLowerCase()) {
        $('.interact').hide();
    } else if (un) {
        set_guanzhu_status(un);
    } else {
        if (un != "") {
            $('#span_add_follow')[0].onclick = (function() {
                loginto(0);
            });
        }
    }
    
});
function set_guanzhu_status(un) {
    var url = "http://my.csdn.net/index.php/follow/check_is_followed/" + encodeURIComponent(un) + "/" + encodeURIComponent(_blogger) + "?jsonpcallback=?";
    $.getJSON(url, {}, function(data) {
        if (data.succ == 1 && data.info == 1) {
            $('#span_add_follow').attr('class', 'attented')[0].onclick = (function() {
                return false;
            });
        } else {
            $('#span_add_follow')[0].onclick = guanzhu;
        }
    }, 'json');
}
function guanzhu() {
    var url = "http://my.csdn.net/index.php/follow/do_follow?jsonpcallback=?";
    $.getJSON(url, {"username": _blogger}, function(data) {
        if (data.succ == 1) {
            alert('关注成功！');
            $('#span_add_follow').attr('class', 'attented')[0].onclick = (function() {
                return false;
            });
        } else {
            alert(data.msg);
        }
    });
    return false;
}
function getUN() {
    var m = document.cookie.match(new RegExp("(^| )UserName=([^;]*)(;|$)"));
    if (m)
        return m[2];
    else
        return '';
}
function loginto(n) {
    if (!n) {
        csdn.showLogin(function(data) {
            js_logined(data.data.userName);
        });
    } else {
        if (!getUN()) {
            csdn.showLogin(function(data) {
                js_logined(data.data.userName);
            });
        } else {
            location = 'http://my.csdn.net/my/letter/send/' + _blogger;
        }
    }
}
function js_logined(un) {
    location = '?reload';
}
/*SyntaxHighlighter/shCore-src.js*/
var a, dp = {sh: {Toolbar: {},Utils: {},RegexLib: {},Brushes: {},Strings: {AboutDialog: '<html><head><title>About...</title></head><body class="dp-about"><table cellspacing="0"><tr><td class="copy"><p class="title">dp.SyntaxHighlighter<div class="para">Version: {V}</div></p><p><a href="http://www.dreamprojections.com/syntaxhighlighter/?ref=about" target="_blank">http://www.dreamprojections.com/syntaxhighlighter</a></p>&copy;2004-2007 Alex Gorbatchev.</td></tr><tr><td class="footer"><input type="button" class="close" value="OK" onclick="window.close()"></td></tr></table></body></html>'},ClipboardSwf: 'http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf',Version: "1.5.1"}};
dp.SyntaxHighlighter = dp.sh;
dp.sh.Toolbar.Commands = {
    ExpandSource: {label: "+ expand source",check: function(b) {
            return b.collapse
        },func: function(b, c) {
                b.parentNode.removeChild(b);
                c.div.className = c.div.className.replace("collapsed", "");
            }
    },
    ViewSource: {label: "view plain",func: function(b, c) {
        b = dp.sh.Utils.FixForBlogger(c.originalCode).replace(/' + b + "");
        c.document.close();
    }},
    CopyToClipboard: {
        label: "copy",check: function() {
            return window.clipboardData != null || dp.sh.ClipboardSwf != null
        },
        func: function(b, c) {
            //b = dp.sh.Utils.FixForBlogger(c.originalCode).replace(/").replace(/&amp;/g, "&");
            if (window.clipboardData)
                window.clipboardData.setData("text", b);
            else if (dp.sh.ClipboardSwf != null) {
                var d = c.flashCopier;
                if (d == null) {
                    d = document.createElement("div");
                    c.flashCopier = d;
                    c.div.appendChild(d);
                }
                d.innerHTML = '<embed src="' + dp.sh.ClipboardSwf + '" flashvars="clipboard=' + encodeURIComponent(b) + '" width="0" height="0" type="application/x-shockwave-flash">';
            }
            alert("The code is in your clipboard now");
        }
    },
    PrintSource:{
        label: "print",func: function(b, c) {
            b = document.createElement("IFRAME");
            var d = null;
            b.style.cssText = "position:absolute;width:0px;height:0px;left:-500px;top:-500px;";
            document.body.appendChild(b);
            d = b.contentWindow.document;
            dp.sh.Utils.CopyStyles(d, window.document);
            d.write('<div class="' + c.div.className.replace(" collapsed",="" "")="" +="" '="" printing"="">' + c.div.innerHTML + "</div>");
            d.close();
            b.contentWindow.focus();
            b.contentWindow.print();
            alert("Printing...");
            document.body.removeChild(b);
        }
    },
    About: {label: "?",func: function() {
        var b = window.open("", "_blank", "dialog,width=300,height=150,scrollbars=0"), c = b.document;
        dp.sh.Utils.CopyStyles(c, window.document);
        c.write(dp.sh.Strings.AboutDialog.replace("{V}", dp.sh.Version));
        c.close();
        b.focus()
    }}
};
dp.sh.Toolbar.Create = function(b) {
    var _code = b.source.className;
    var c = document.createElement("DIV");
    c.className = "tools";
    c.innerHTML = '<b>[' + _code + ']</b> ';
    for (var d in dp.sh.Toolbar.Commands) {
        var f = dp.sh.Toolbar.Commands[d];
        //   f.check != null && !f.check(b) || (c.innerHTML += '<a href="#" class="' + d + '" title="' + f.label + '" onclick="dp.sh.Toolbar.Command(\'' + d + " ',this);return="" false;\"="">" + f.label + "</a>")
        if (f.label == "print") {
            f.check != null && !f.check(b) || (c.innerHTML += '<span data-mod="popu_169"> <a href="#" class="' + d + '" title="' + f.label + '" onclick="dp.sh.Toolbar.Command(\'' + d + " ',this);return="" false;\"="">" + f.label + "</a></span>")
        }
        else if (f.label == "copy") {
            f.check != null && !f.check(b) || (c.innerHTML += '<span data-mod="popu_168"> <a href="#" class="' + d + '" title="' + f.label + '" onclick="dp.sh.Toolbar.Command(\'' + d + " ',this);return="" false;\"="">" + f.label + "</a></span>")
        }
        else {
            f.check != null && !f.check(b) || (c.innerHTML += '<a href="#" class="' + d + '" title="' + f.label + '" onclick="dp.sh.Toolbar.Command(\'' + d + " ',this);return="" false;\"="">" + f.label + "</a>")
        }
    }
    return c;
};
dp.sh.Toolbar.Command = function(b, c) {
    for (var d = c; d != null && d.className.indexOf("dp-highlighter") == -1; )
        d = d.parentNode;
    d != null && dp.sh.Toolbar.Commands[b].func(c, d.highlighter)
    //console.log(dp.sh.Toolbar.Commands[b]);
};
//dp.sh.Toolbar.Command('CopyToClipboard','');
dp.sh.Utils.CopyStyles = function(b, c) {
    c = c.getElementsByTagName("link");
    for (var d = 0; d < c.length; d++)
        c[d].rel.toLowerCase() == "stylesheet" && b.write('<link type="text/css" rel="stylesheet" href="' + c[d].href + '">')
};
dp.sh.Utils.FixForBlogger = function(b) {
    return dp.sh.isBloggerMode == true ? b.replace(/<br\s*\ ?="">|&lt;br\s*\/?&gt;/gi, "\n") : b
};
dp.sh.RegexLib = {MultiLineCComments: new RegExp("/\\*[\\s\\S]*?\\*/", "gm"),SingleLineCComments: new RegExp("//.*$", "gm"),SingleLinePerlComments: new RegExp("#.*$", "gm"),DoubleQuotedString: new RegExp('"(?:\\.|(\\\\\\")|[^\\""\\n])*"', "g"),SingleQuotedString: new RegExp("'(?:\\.|(\\\\\\')|[^\\''\\n])*'", "g")};
dp.sh.Match = function(b, c, d) {
    this.value = b;
    this.index = c;
    this.length = b.length;
    this.css = d
};
dp.sh.Highlighter = function() {
    this.noGutter = false;
    this.addControls = true;
    this.collapse = false;
    this.tabsToSpaces = true;
    this.wrapColumn = 80;
    this.showColumns = true
};
dp.sh.Highlighter.SortCallback = function(b, c) {
    if (b.index < c.index)
        return -1;
    else if (b.index > c.index)
        return 1;
    else if (b.length < c.length)
        return -1;
    else if (b.length > c.length)
        return 1;
    return 0
};
a = dp.sh.Highlighter.prototype;
a.CreateElement = function(b) {
    b = document.createElement(b);
    b.highlighter = this;
    return b
};
a.GetMatches = function(b, c) {
    for (var d = null; (d = b.exec(this.code)) != null; )
        this.matches[this.matches.length] = new dp.sh.Match(d[0], d.index, c)
};
a.AddBit = function(b, c) {
    if (!(b == null || b.length == 0)) {
        var d = this.CreateElement("SPAN");
        b = b.replace(/ /g, "&nbsp;");
        b = b.replace(/");
        if (c != null)
            if (/br/gi.test(b)) {
                b = b.split("&nbsp;<br>");
                for (var f = 0; f < b.length; f++) {
                    d = this.CreateElement("SPAN");
                    d.className = c;
                    d.innerHTML = b[f];
                    this.div.appendChild(d);
                    f + 1 < b.length && this.div.appendChild(this.CreateElement("BR"))
                }
            } else {
                d.className = c;
                d.innerHTML = b;
                this.div.appendChild(d)
            }
        else {
            d.innerHTML = b;
            this.div.appendChild(d)
        }
    }
};
a.IsInside = function(b) {
    if (b == null || b.length == 0)
        return false;
    for (var c = 0; c < this.matches.length; c++) {
        var d = this.matches[c];
        if (d != null)
            if (b.index > d.index && b.index < d.index + d.length)
                return true
    }
    return false
};
a.ProcessRegexList = function() {
    for (var b = 0; b < this.regexList.length; b++)
        this.GetMatches(this.regexList[b].regex, this.regexList[b].css)
};
a.ProcessSmartTabs = function(b) {
    function c(h, e, l) {
        var m = h.substr(0, e);
        h = h.substr(e + 1, h.length);
        e = "";
        for (var i = 0; i < l; i++)
            e += " ";
        return m + e + h
    }
    function d(h, e) {
        if (h.indexOf(p) == -1)
            return h;
        for (var l = 0; (l = h.indexOf(p)) != -1; )
            h = c(h, l, e - l % e);
        return h
    }
    b = b.split("\n");
    for (var f = "", p = "\t", q = 0; q < b.length; q++)
        f += d(b[q], 4) + "\n";
    return f
};
a.SwitchToList = function() {
    var b = this.div.innerHTML.replace(/<(br)\ ?="">/gi, "\n").split("\n");
    this.addControls == true && this.bar.appendChild(dp.sh.Toolbar.Create(this));
    if (this.showColumns) {
        for (var c = this.CreateElement("div"), d = this.CreateElement("div"), f = 1; f <= 0="" 2="=" 10="=" 150;="" )="" if="" (f="" %="" 0)="" {="" c.innerhtml="" +="f;" f="" "").length="" }="" else="" ;="" f++="" d.classname="columns" d.appendchild(c);="" this.bar.appendchild(d)="" for="" (c="this.firstLine;" <="" b.length="" -="" 1;="" f++,="" c++)="" d="this.CreateElement("LI");" var="" p="this.CreateElement("SPAN");" ?="" "alt"="" :="" "";="" p.innerhtml="b[f]" "&nbsp;";="" d.appendchild(p);="" this.ol.appendchild(d)="" this.div.innerhtml="" };="" a.highlight="function(b)" function="" c(e)="" return="" e.replace(="" ^\s*(.*?)[\s\n]*$="" g,="" "$1")="" d(e)="" \n*$="" ,="" "").replace(="" ^\n*="" "")="" f(e)="" e="dp.sh.Utils.FixForBlogger(e).split("\n");" (var="" l="new" regexp("^\\s*",="" "g"),="" m="1E3," i="0;" e.length="" &&=""> 0; i++)
            if (c(e[i]).length != 0) {
                var g = l.exec(e[i]);
                if (g != null && g.length > 0)
                    m = Math.min(g[0].length, m)
            }
        if (m > 0)
            for (i = 0; i < e.length; i++)
                e[i] = e[i].substr(m);
        return e.join("\n");
    }
    function p(e, l, m) {
        return e.substr(l, m - l)
    }
    var q = 0;
    if (b == null)
        b = "";
    this.originalCode = b;
    this.code = d(f(b));
    this.div = this.CreateElement("DIV");
    this.bar = this.CreateElement("DIV");
    this.ol = this.CreateElement("OL");
    this.matches = [];
    this.div.className = "dp-highlighter";
    this.div.highlighter = this;
    this.bar.className = "bar";
    this.ol.start = this.firstLine;
    if (this.CssClass != null)
        this.ol.className = this.CssClass;
    if (this.collapse)
        this.div.className += " collapsed";
    if (this.noGutter)
        this.div.className += " nogutter";
    if (this.tabsToSpaces == true)
        this.code = this.ProcessSmartTabs(this.code);
    this.ProcessRegexList();
    if (this.matches.length == 0)
        this.AddBit(this.code, null);
    else {
        this.matches = this.matches.sort(dp.sh.Highlighter.SortCallback);
        for (b = 0; b < this.matches.length; b++)
            if (this.IsInside(this.matches[b]))
                this.matches[b] = null;
        for (b = 0; b < this.matches.length; b++) {
            var h = this.matches[b];
            if (!(h == null || h.length == 0)) {
                this.AddBit(p(this.code, q, h.index), null);
                this.AddBit(h.value, h.css);
                q = h.index + h.length
            }
        }
        this.AddBit(this.code.substr(q), null)
    }
    this.SwitchToList();
    this.div.appendChild(this.bar);
    this.div.appendChild(this.ol)
};
a.GetKeywords = function(b) {
    return "\\b" + b.replace(/ /g, "\\b|\\b") + "\\b"
};
dp.sh.BloggerMode = function() {
    dp.sh.isBloggerMode = true
};
dp.sh.HighlightAll = function(b, c, d, f, p, q) {
    function h() {
        for (var k = arguments, j = 0; j < k.length; j++)
            if (k[j] != null) {
                if (typeof k[j] == "string" && k[j] != "")
                    return k[j] + "";
                if (typeof k[j] == "object" && k[j].value != "")
                    return k[j].value + ""
            }
        return null
    }
    function e(k, j) {
        for (var o = 0; o < j.length; o++)
            if (j[o] == k)
                return true;
        return false
    }
    function l(k, j, o) {
        k = new RegExp("^" + k + "\\[(\\w+)\\]$", "gi");
        for (var s = null, u = 0; u < j.length; u++)
            if ((s = k.exec(j[u])) != null)
                return s[1];
        return o
    }
    function m(k, j, o) {
        o = document.getElementsByTagName(o);
        for (var s = 0; s < o.length; s++) {
            o[s].getAttribute("name") == j && k.push(o[s]);
        }
    }
    var i = [], g = null, v = {};
    m(i, b, "pre");
    m(i, b, "textarea");
    if (i.length != 0) {
        for (var n in dp.sh.Brushes) {
            g = dp.sh.Brushes[n].Aliases;
            if (g != null)
                for (b = 0; b < g.length; b++)
                    v[g[b]] = n
        }
        for (b = 0; b < i.length; b++) {
            n = i[b];
            var r = h(n.attributes["class"], n.className, n.attributes.language, n.language);
            g = "";
            if (r != null) {
                r = r.split(":");
                g = r[0].toLowerCase();
                if (v[g] != null) {
                    g = new dp.sh.Brushes[v[g]];
                    n.style.display = "none";
                    g.noGutter = c == null ? e("nogutter", r) : !c;
                    g.addControls = d == null ? !e("nocontrols", r) : d;
                    g.collapse = f == null ? e("collapse", r) : f;
                    g.showColumns = q == null ? e("showcolumns", r) : q;
                    var w = document.getElementsByTagName("head")[0];
                    if (g.Style && w) {
                        var t = document.createElement("style");
                        t.setAttribute("type", "text/css");
                        if (t.styleSheet)
                            t.styleSheet.cssText = g.Style;
                        else {
                            var x = document.createTextNode(g.Style);
                            t.appendChild(x)
                        }
                        w.appendChild(t);
                    }
                    g.firstLine = p == null ? parseInt(l("firstline", r, 1)) : p;
                    g.source = n;
                    g.Highlight(n.innerHTML);
                    g.div.className += " bg_" + n.className;
                    n.parentNode.insertBefore(g.div, n);
                }
            }
        }
    }
};
dp.sh.Brushes.Xml = function() {
    this.CssClass = "dp-xml";
    this.Style = ""
};
dp.sh.Brushes.Xml.prototype = new dp.sh.Highlighter;
dp.sh.Brushes.Xml.Aliases = ["xml", "xhtml", "xslt", "html", "xhtml"];
dp.sh.Brushes.Xml.prototype.ProcessRegexList = function() {
    function c(d, e) {
        d[d.length] = e
    }
    var a = null, b = null;
    this.GetMatches(new RegExp("(&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](&gt;|>)", "gm"), "cdata");
    this.GetMatches(new RegExp("(&lt;|<)!--\\s*.*?\\s*--(&gt;|>)", "gm"), "comments");
    for (b = new RegExp("([:\\w-.]+)\\s*=\\s*(\".*?\"|'.*?'|\\w+)*|(\\w+)", "gm"); (a = b.exec(this.code)) != null; )
        if (a[1] != null) {
            c(this.matches, new dp.sh.Match(a[1], a.index, "attribute"));
            a[2] != undefined && c(this.matches, new dp.sh.Match(a[2], a.index + a[1].length + a[0].substr(a[1].length).indexOf(a[2]), "attribute-value"))
        }
    this.GetMatches(new RegExp("(&lt;|<) *\\?*(?!\\!)|="" *\\?*(&gt;|="">)", "gm"), "tag");
    for (b = new RegExp("(?:&lt;|<) *\\?*\\s*([:\\w-.]+)",="" "gm");="" (a="b.exec(this.code))" !="null;" )="" c(this.matches,="" new="" dp.sh.match(a[1],="" a.index="" +="" a[0].indexof(a[1]),="" "tag-name"))="" };="" dp.sh.brushes.vb="function()" {="" this.regexlist="[{regex:" regexp("'.*$",="" "gm"),css:="" "comment"},="" {regex:="" dp.sh.regexlib.doublequotedstring,css:="" "string"},="" regexp("^\\s*#.*",="" "preprocessor"},="" regexp(this.getkeywords("addhandler="" addressof="" andalso="" alias="" and="" ansi="" as="" assembly="" auto="" boolean="" byref="" byte="" byval="" call="" case="" catch="" cbool="" cbyte="" cchar="" cdate="" cdec="" cdbl="" char="" cint="" class="" clng="" cobj="" const="" cshort="" csng="" cstr="" ctype="" date="" decimal="" declare="" default delegate="" dim="" directcast="" do="" double="" each="" else="" elseif="" end="" enum="" erase="" error="" event="" exit="" false="" finally="" for="" friend="" function="" get="" gettype="" gosub="" goto="" handles="" if="" implements="" imports="" in="" inherits="" integer="" interface="" is="" let="" lib="" like="" long="" loop me="" mod="" module="" mustinherit="" mustoverride="" mybase="" myclass="" namespace="" next="" not="" nothing="" notinheritable="" notoverridable="" object="" on="" option="" optional="" or="" orelse="" overloads="" overridable="" overrides="" paramarray="" preserve="" private="" property="" protected="" public="" raiseevent="" readonly redim="" rem="" removehandler="" resume="" return="" select="" set="" shadows="" shared="" short="" single="" static="" step="" stop="" string="" structure="" sub="" synclock="" then="" throw="" to="" true="" try="" typeof="" unicode="" until="" variant="" when="" while="" with="" withevents="" writeonly="" xor"),="" "keyword"}];="" this.cssclass="dp-vb" dp.sh.brushes.vb.prototype="new" dp.sh.highlighter;="" dp.sh.brushes.vb.aliases="["vb"," "vb.net"];="" dp.sh.brushes.sql="function()" regexp("--(.*)$",="" dp.sh.regexlib.singlequotedstring,css:="" regexp(this.getkeywords("abs="" avg="" cast="" coalesce="" convert="" count="" current_timestamp="" current_user="" day="" isnull="" left="" lower="" month="" nullif="" replace="" right="" session_user="" space="" substring="" sum="" system_user="" upper="" user="" year"),="" "gmi"),css:="" "func"},="" regexp(this.getkeywords("all="" any="" between="" cross="" join="" null="" outer="" some"),="" "op"},="" regexp(this.getkeywords("absolute="" action="" add="" after="" alter="" asc="" at="" authorization="" begin="" bigint="" binary="" bit="" by="" cascade="" character="" check="" checkpoint="" close="" collate="" column="" commit="" committed="" connect="" connection="" constraint="" contains="" continue="" create="" cube="" current="" current_date="" current_time="" cursor="" database="" deallocate="" dec="" delete="" desc="" distinct="" drop="" dynamic="" end-exec="" escape="" except="" exec="" execute="" fetch="" first="" float="" force="" foreign="" forward="" free="" from="" full="" global="" grant="" group="" grouping="" having="" hour="" ignore="" index="" inner="" insensitive="" insert="" instead="" int="" intersect="" into="" isolation="" key="" last="" level="" load="" local="" max="" min="" minute="" modify="" move="" name="" national="" nchar="" no="" numeric="" of="" off="" only="" open order="" out="" output="" partial="" password="" precision="" prepare="" primary="" prior="" privileges="" procedure="" read="" real="" references="" relative="" repeatable="" restrict="" returns="" revoke="" rollback="" rollup="" rows="" rule="" schema="" scroll="" second="" section="" sequence="" serializable="" size="" smallint="" statistics="" table="" temp="" temporary="" time="" timestamp="" top="" transaction="" translation="" trigger="" truncate="" uncommitted="" union="" unique="" update="" values="" varchar="" varying="" view="" where="" work"),="" ;="" this.style="" dp.sh.brushes.sql.prototype="new" dp.sh.brushes.sql.aliases="["sql"];" dp.sh.brushes.ruby="function()" dp.sh.regexlib.singlelineperlcomments,css:="" regexp(":[a-z][a-za-z0-9_]*",="" "g"),css:="" "symbol"},="" regexp("(\\$|@@|@)\\w+",="" "variable"},="" regexp(this.getkeywords("alias="" break="" def="" define_method="" defined="" elsif="" ensure="" nil="" raise="" redo="" rescue="" retry="" self="" super="" undef="" unless="" yield"),="" "keyword"},="" regexp(this.getkeywords("array="" bignum="" binding="" continuation="" dir="" exception="" falseclass="" file::stat="" file="" fixnum="" fload="" hash="" io="" matchdata="" method="" nilclass="" proc="" range="" regexp="" struct::tms="" symbol="" threadgroup="" thread="" trueclass"),="" "builtin"}];="" dp.sh.brushes.ruby.prototype="new" dp.sh.brushes.ruby.aliases="["ruby"," "rails",="" "ror"];="" dp.sh.brushes.python="function()" regexp("^\\s*@\\w+",="" "decorator"},="" regexp("(['\"]{3})([^\\1])*?\\1",="" regexp('"(?!")(?:\\.|\\\\\\"|[^\\""\\n\\r])*"',="" regexp("'(?!')*(?:\\.|(\\\\\\')|[^\\''\\n\\r])*'",="" regexp("\\b\\d+\\.?\\w*",="" "number"},="" regexp(this.getkeywords("and="" assert="" del="" elif="" import="" lambda="" pass="" print="" yield="" while"),="" regexp(this.getkeywords("none="" cls="" class_"),="" "special"}];="" dp.sh.brushes.python.prototype="new" dp.sh.brushes.python.aliases="["py"," "python"];="" dp.sh.brushes.plain="function()" dp.sh.brushes.plain.prototype="new" dp.sh.brushes.plain.aliases="["plain"," "text",="" "txt"];="" dp.sh.brushes.php="function()" dp.sh.regexlib.singlelineccomments,css:="" dp.sh.regexlib.multilineccomments,css:="" regexp("\\$\\w+",="" "vars"},="" acos="" acosh="" addcslashes="" addslashes="" array_change_key_case="" array_chunk="" array_combine="" array_count_values="" array_diff="" array_diff_assoc="" array_diff_key="" array_diff_uassoc="" array_diff_ukey="" array_fill="" array_filter="" array_flip="" array_intersect="" array_intersect_assoc="" array_intersect_key="" array_intersect_uassoc="" array_intersect_ukey="" array_key_exists="" array_keys="" array_map="" array_merge="" array_merge_recursive="" array_multisort="" array_pad="" array_pop="" array_product="" array_push="" array_rand="" array_reduce="" array_reverse="" array_search="" array_shift="" array_slice="" array_splice="" array_sum="" array_udiff="" array_udiff_assoc="" array_udiff_uassoc="" array_uintersect="" array_uintersect_assoc="" array_uintersect_uassoc="" array_unique="" array_unshift="" array_values="" array_walk="" array_walk_recursive="" atan="" atan2="" atanh="" base64_decode="" base64_encode="" base_convert="" basename="" bcadd="" bccomp="" bcdiv="" bcmod="" bcmul="" bindec="" bindtextdomain="" bzclose="" bzcompress="" bzdecompress="" bzerrno="" bzerror="" bzerrstr="" bzflush="" bzopen="" bzread="" bzwrite="" ceil="" chdir="" checkdate="" checkdnsrr="" chgrp="" chmod="" chop="" chown="" chr="" chroot="" chunk_split="" class_exists="" closedir="" closelog="" copy="" cos="" cosh="" count_chars="" decbin="" dechex="" decoct="" deg2rad="" ebcdic2ascii="" echo="" empty="" ereg="" ereg_replace="" eregi="" eregi_replace="" error_log="" error_reporting="" escapeshellarg="" escapeshellcmd="" eval="" exp="" explode="" extension_loaded="" feof="" fflush="" fgetc="" fgetcsv="" fgets="" fgetss="" file_exists="" file_get_contents="" file_put_contents="" fileatime="" filectime="" filegroup="" fileinode="" filemtime="" fileowner="" fileperms="" filesize="" filetype="" floatval="" flock="" floor="" flush="" fmod="" fnmatch="" fopen="" fpassthru="" fprintf="" fputcsv="" fputs="" fread="" fscanf="" fseek="" fsockopen="" fstat="" ftell="" ftok="" getallheaders="" getcwd="" getdate="" getenv="" gethostbyaddr="" gethostbyname="" gethostbynamel="" getimagesize="" getlastmod="" getmxrr="" getmygid="" getmyinode="" getmypid="" getmyuid="" getopt="" getprotobyname="" getprotobynumber="" getrandmax="" getrusage="" getservbyname="" getservbyport="" gettext="" gettimeofday="" glob="" gmdate="" gmmktime="" ini_alter="" ini_get="" ini_get_all="" ini_restore="" ini_set="" interface_exists="" intval="" ip2long="" is_a="" is_array="" is_bool="" is_callable="" is_dir="" is_double="" is_executable="" is_file="" is_finite="" is_float="" is_infinite="" is_int="" is_integer="" is_link="" is_long="" is_nan="" is_null="" is_numeric="" is_object="" is_readable="" is_real="" is_resource="" is_scalar="" is_soap_fault="" is_string="" is_subclass_of="" is_uploaded_file="" is_writable="" is_writeable="" mkdir="" mktime="" nl2br="" parse_ini_file="" parse_str="" parse_url="" passthru="" pathinfo="" readlink="" realpath="" rewind="" rewinddir="" rmdir="" round="" str_ireplace="" str_pad="" str_repeat="" str_replace="" str_rot13="" str_shuffle="" str_split="" str_word_count="" strcasecmp="" strchr="" strcmp="" strcoll="" strcspn="" strftime="" strip_tags="" stripcslashes="" stripos="" stripslashes="" stristr="" strlen="" strnatcasecmp="" strnatcmp="" strncasecmp="" strncmp="" strpbrk="" strpos="" strptime="" strrchr="" strrev="" strripos="" strrpos="" strspn="" strstr="" strtok="" strtolower="" strtotime="" strtoupper="" strtr="" strval="" substr="" substr_compare"),="" xor="" __file__="" __line__="" array="" cfunction="" die="" enddeclare="" endfor="" endforeach="" endif="" endswitch="" endwhile="" extends="" foreach="" include="" include_once="" old_function="" switch="" use="" require="" require_once="" var="" __function__="" __class__="" __method__="" abstract="" throw"),="" dp.sh.brushes.php.prototype="new" dp.sh.brushes.php.aliases="["php"];" dp.sh.brushes.jscript="function()" regexp(this.getkeywords("abstract="" debugger="" export="" final="" instanceof="" native="" package="" synchronized="" this="" throws="" transient="" void="" volatile="" with"),="" dp.sh.brushes.jscript.prototype="new" dp.sh.brushes.jscript.aliases="["js"," "jscript",="" "javascript"];="" dp.sh.brushes.java="function()" regexp("\\b([\\d]+(\\.[\\d]+)?|0x[a-f0-9]+)\\b",="" "gi"),css:="" regexp("(?!\\@interface\\b)\\@[\\$\\w]+\\b",="" "annotation"},="" regexp("\\@interface\\b",="" strictfp="" dp.sh.brushes.java.prototype="new" dp.sh.brushes.java.aliases="["java"];" dp.sh.brushes.delphi="function()" regexp("\\(\\*[\\s\\s]*?\\*\\)",="" regexp("{(?!\\$)[\\s\\s]*?}",="" regexp("\\{\\$[a-za-z]+="" .+\\}",="" "directive"},="" regexp("\\b[\\d\\.]+\\b",="" regexp("\\$[a-za-z0-9]+\\b",="" addr="" ansichar="" ansistring="" asm="" cardinal="" comp="" constructor="" currency="" destructor="" div="" downto="" exports="" extended="" finalization="" implementation="" inherited="" int64="" initialization="" label="" library="" longint="" longword="" packed="" pansichar="" pansistring="" pchar="" pcurrency="" pdatetime="" pextended="" pint64="" pointer="" program="" pshortstring="" pstring="" pvariant="" pwidechar="" pwidestring="" published="" real48="" record="" repeat="" shl="" shortint="" shortstring="" shr="" threadvar="" type="" unit="" uses="" val="" varirnt="" widechar="" widestring="" word="" write="" writeln="" dp.sh.brushes.delphi.prototype="new" dp.sh.brushes.delphi.aliases="["delphi"," "pascal"];="" dp.sh.brushes.css="function()" regexp("\\#[a-za-z0-9]{3,6}",="" "value"},="" regexp("(-?\\d+)(.\\d+)?(px|em|pt|:|%|)",="" regexp("!important",="" "important"},="" regexp(this.getkeywordscss("ascent="" azimuth="" background-attachment="" background-color="" background-image="" background-position="" background-repeat="" background="" baseline="" bbox="" border-collapse="" border-color="" border-spacing="" border-style="" border-top="" border-right="" border-bottom="" border-left="" border-top-color="" border-right-color="" border-bottom-color="" border-left-color="" border-top-style="" border-right-style="" border-bottom-style="" border-left-style="" border-top-width="" border-right-width="" border-bottom-width="" border-left-width="" border-width="" border="" cap-height="" caption-side="" centerline="" clear="" clip="" color="" content="" counter-increment="" counter-reset="" cue-after="" cue-before="" cue="" definition-src="" descent="" direction="" display="" elevation="" empty-cells="" font-size-adjust="" font-family="" font-size="" font-stretch="" font-style="" font-variant="" font-weight="" font="" height="" letter-spacing="" line-height="" list-style-image="" list-style-position="" list-style-type="" list-style="" margin-top="" margin-right="" margin-bottom="" margin-left="" margin="" marker-offset="" marks="" mathline="" max-height="" max-width="" min-height="" min-width="" orphans="" outline-color="" outline-style="" outline-width="" outline="" overflow="" padding-top="" padding-right="" padding-bottom="" padding-left="" padding="" page="" page-break-after="" page-break-before="" page-break-inside="" pause="" pause-after="" pause-before="" pitch="" pitch-range="" play-during="" position="" quotes="" richness="" slope="" src="" speak-header="" speak-numeral="" speak-punctuation="" speak="" speech-rate="" stemh="" stemv="" stress="" table-layout="" text-align="" text-decoration="" text-indent="" text-shadow="" text-transform="" unicode-bidi="" unicode-range="" units-per-em="" vertical-align="" visibility="" voice-family="" volume="" white-space="" widows="" width="" widths="" word-spacing="" x-height="" z-index"),="" regexp(this.getvaluescss("above="" absolute="" all="" always="" aqua="" armenian="" attr="" aural="" avoid="" behind="" below="" bidi-override="" black="" blink="" block="" blue="" bold="" bolder="" both="" bottom="" braille="" capitalize="" caption="" center="" center-left="" center-right="" circle="" close-quote="" code="" collapse="" compact="" condensed="" continuous="" counter="" counters="" crop="" crosshair="" cursive="" dashed="" decimal-leading-zero="" digits="" disc="" dotted="" embed="" embossed="" e-resize="" expanded="" extra-condensed="" extra-expanded="" fantasy="" far-left="" far-right="" fast="" faster="" fixed="" format="" fuchsia="" gray="" green="" groove="" handheld="" hebrew="" help="" hidden hide="" high="" higher="" icon="" inline-table="" inline="" inset="" inside="" invert="" italic="" justify="" landscape="" large="" larger="" left-side="" leftwards="" lighter="" lime="" line-through="" list-item="" loud="" lower-alpha="" lowercase="" lower-greek="" lower-latin="" lower-roman="" low="" ltr="" marker="" maroon="" medium="" message-box="" middle="" mix="" narrower="" navy="" ne-resize="" no-close-quote="" none="" no-open-quote="" no-repeat="" normal="" nowrap="" n-resize="" nw-resize="" oblique="" olive="" once="" open-quote="" outset="" outside="" overline="" portrait="" pre="" projection="" purple="" red="" repeat-x="" repeat-y="" rgb="" ridge="" right-side="" rightwards="" rtl="" run-in="" screen="" semi-condensed="" semi-expanded="" separate="" se-resize="" show="" silent="" silver="" slower="" slow="" small="" small-caps="" small-caption="" smaller="" soft="" solid="" speech="" spell-out="" square="" s-resize="" status-bar="" sw-resize="" table-caption="" table-cell="" table-column="" table-column-group="" table-footer-group="" table-header-group="" table-row="" table-row-group="" teal="" text-bottom="" text-top="" thick="" thin="" transparent="" tty="" tv="" ultra-condensed="" ultra-expanded="" underline="" upper-alpha="" uppercase="" upper-latin="" upper-roman="" url="" visible="" wait="" white="" wider="" w-resize="" x-fast="" x-high="" x-large="" x-loud="" x-low="" x-slow="" x-small="" x-soft="" xx-large="" xx-small="" yellow"),="" regexp(this.getvaluescss("[mm]onospace="" [tt]ahoma="" [vv]erdana="" [aa]rial="" [hh]elvetica="" [ss]ans-serif="" [ss]erif"),="" "value"}];="" dp.sh.highlighter.prototype.getkeywordscss="function(a)" "\\b([a-z_]|)"="" a.replace(="" g,="" "(?=":)\\b|\\b([a-z_\\*]|\\*|)")" dp.sh.highlighter.prototype.getvaluescss="function(a)" "\\b"="" "(?!-)(?!:)\\b|\\b()")="" ":\\b"="" dp.sh.brushes.css.prototype="new" dp.sh.brushes.css.aliases="["css"];" dp.sh.brushes.csharp="function()" base="" bool="" checked explicit="" extern="" implicit="" internal="" lock="" operator="" override="" params="" ref="" sbyte="" sealed="" sizeof="" stackalloc="" struct="" uint="" ulong="" unchecked="" unsafe="" ushort="" using="" virtual="" dp.sh.brushes.csharp.prototype="new" dp.sh.brushes.csharp.aliases="["c#"," "c-sharp",="" "csharp"];="" dp.sh.brushes.cpp="function()" regexp("^="" *#.*",="" regexp(this.getkeywords("atom="" colorref="" dword="" dwordlong="" dword_ptr="" dword32="" dword64="" haccel="" half_ptr="" handle="" hbitmap="" hbrush="" hcolorspace="" hconv="" hconvlist="" hcursor="" hdc="" hddedata="" hdesk="" hdrop="" hdwp="" henhmetafile="" hfile="" hfont="" hgdiobj="" hglobal="" hhook="" hicon="" hinstance="" hkey="" hkl="" hlocal="" hmenu="" hmetafile="" hmodule="" hmonitor="" hpalette="" hpen="" hresult="" hrgn="" hrsrc="" hsz="" hwinsta="" hwnd="" int_ptr="" int32="" langid="" lcid="" lctype="" lgrpid="" longlong="" long_ptr="" long32="" long64="" lparam="" lpbool="" lpbyte="" lpcolorref="" lpcstr="" lpctstr="" lpcvoid="" lpcwstr="" lpdword="" lphandle="" lpint="" lplong="" lpstr="" lptstr="" lpvoid="" lpword="" lpwstr="" lresult="" pbool="" pboolean="" pbyte="" pcstr="" pctstr="" pcwstr="" pdwordlong="" pdword_ptr="" pdword32="" pdword64="" pfloat="" phalf_ptr="" phandle="" phkey="" pint="" pint_ptr="" pint32="" plcid="" plong="" plonglong="" plong_ptr="" plong32="" plong64="" pointer_32="" pointer_64="" pshort="" psize_t="" pssize_t="" pstr="" ptbyte="" ptchar="" ptstr="" puchar="" puhalf_ptr="" puint="" puint_ptr="" puint32="" puint64="" pulong="" pulonglong="" pulong_ptr="" pulong32="" pulong64="" pushort="" pvoid="" pwchar="" pword="" pwstr="" sc_handle="" sc_lock="" service_status_handle="" size_t="" ssize_t="" tbyte="" tchar="" uchar="" uhalf_ptr="" uint_ptr="" uint32="" uint64="" ulonglong="" ulong_ptr="" ulong32="" ulong64="" usn="" wchar="" wparam="" __int32="" __int64="" __int8="" __int16="" __wchar_t="" clock_t="" _complex="" _dev_t="" _diskfree_t="" div_t="" ldiv_t="" _exception="" _exception_pointers="" _finddata_t="" _finddatai64_t="" _wfinddata_t="" _wfinddatai64_t="" __finddata64_t="" __wfinddata64_t="" _fpieee_record="" fpos_t="" _heapinfo="" _hfile="" lconv="" intptr_t="" jmp_buf="" mbstate_t="" _off_t="" _onexit_t="" _pnh="" ptrdiff_t="" _purecall_handler="" sig_atomic_t="" _stat="" __stat64="" _stati64="" terminate_function="" time_t="" __time64_t="" _timeb="" __timeb64="" tm="" uintptr_t="" _utimbuf="" va_list="" wchar_t="" wctrans_t="" wctype_t="" wint_t="" signed"),="" "datatypes"},="" regexp(this.getkeywords("break="" __finally="" __exception="" __try="" const_cast="" __declspec="" deprecated="" dllexport="" dllimport="" dynamic_cast="" mutable="" naked="" noinline="" noreturn="" nothrow="" register="" reinterpret_cast="" selectany="" static_cast="" template="" typedef="" typeid="" typename="" uuid="" whcar_t="" dp.sh.brushes.cpp.prototype="new" dp.sh.brushes.cpp.aliases="["cpp"," "c",="" "c++"];="" dp.sh.brushes.objc="function()" datatypes="ATOM BOOL BOOLEAN BYTE CHAR COLORREF DWORD DWORDLONG DWORD_PTR " 'dword32="" '="" 'hcolorspace="" 'henhmetafile="" 'hkl="" 'hrgn="" 'lgrpid="" 'lpcstr="" 'lpvoid="" 'pdwordlong="" 'pint_ptr="" 'pointer_64="" 'puint="" 'pushort="" 'size_t="" 'ulonglong="" 'char="" 'clock_t="" 'file="" '__wfinddata64_t="" id="" 'jmp_buf="" 'sig_atomic_t="" 'time_t="" 'va_list="" signed';="" keywords="break case catch class copy const __finally __exception __try " 'const_cast="" 'default="" 'else="" getter="" 'mutable="" nonatomic="" 'readonly="" readwrite="" retain="" strong="" sel="" 'setter="" 'thread="" 'using="" yes';="" 顺序很重要="" regexp(this.getkeywords(datatypes),="" 'gm'),css:="" 'keyword'},="" primitive="" data="" types="" regexp(this.getkeywords(keywords),="" regexp('@\\w+\\b',="" 'g'),css:="" @-keywords="" regexp('[:="" ]nil',="" nil-workaround="" regexp('\\.\\w+',="" 'xcodeconstants'},="" accessors="" regexp('="" \\w+(?="[:\\]])'," 'vars'},="" messages="" 'comment'},="" comments="" 'string'},="" strings="" regexp('@"[^"]*"',="" regexp('\\d',="" 'xcodenumber'},="" regexp('^="" *#.*',="" 'xcodepreprocessor'},="" preprocessor="" regexp('\\w+(?="\\*)'," 'keyword'}="" -="" variable="" declaration="" *{="" regex:="" regexp('\\b[a-z]\\w+\\b(?="[" ,;])',="" 'gm'),="" css:="" 'xcodekeyword'="" },*="" protocol="" ];="" }="" dp.sh.brushes.objc.prototype="new" dp.sh.brushes.objc.aliases="['objc'];" *zeroclipboard="" zeroclipboard.js*="" zeroclipboard="{version:" "1.0.7",clients:="" {},moviepath:="" 'http:="" static.blog.csdn.net="" scripts="" zeroclipboard.swf',nextid:="" 1,$:="" function(thingy)="" (typeof="" (thingy)="=" 'string')="" thingy="document.getElementById(thingy);" (true="" ||="" !thingy.addclass)="" thingy.hide="function()" this.style.display="none" thingy.show="function()" thingy.addclass="function(name)" this.removeclass(name);="" this.classname="" name;="" thingy.removeclass="function(name)" classes="this.className.split(/\s+/);" idx="-1;" (var="" k="0;" <="" classes.length;="" k++)="" (classes[k]="=" name)="" (idx=""> -1) {
                classes.splice(idx, 1);
                this.className = classes.join(' ');
            }
            return this;
        };
        thingy.hasClass = function(name) {
            return !!this.className.match(new RegExp("\\s*" + name + "\\s*"));
        };
    }
    return thingy;
},setMoviePath: function(path) {
    this.moviePath = path;
},dispatch: function(id, eventName, args) {
    var client = this.clients[id];
    if (client) {
        client.receiveEvent(eventName, args);
    }
},register: function(id, client) {
    this.clients[id] = client;
},getDOMObjectPosition: function(obj, stopObj) {
    var info = {left: 0,top: 0,width: obj.width ? obj.width : obj.offsetWidth,height: obj.height ? obj.height : obj.offsetHeight};
    while (obj && (obj != stopObj)) {
        info.left += obj.offsetLeft;
        info.top += obj.offsetTop;
        obj = obj.offsetParent;
    }
    return info;
},Client: function(elem) {
    this.handlers = {};
    this.id = ZeroClipboard.nextId++;
    this.movieId = 'ZeroClipboardMovie_' + this.id;
    ZeroClipboard.register(this.id, this);
    if (elem)
        this.glue(elem);
}};
ZeroClipboard.Client.prototype = {id: 0,ready: false,movie: null,clipText: '',handCursorEnabled: true,cssEffects: true,handlers: null,glue: function(elem, appendElem, stylesToAdd) {
    this.domElement = ZeroClipboard.$(elem);
    var zIndex = 99;
    if (this.domElement.style.zIndex) {
        zIndex = parseInt(this.domElement.style.zIndex, 10) + 1;
    }
    if (typeof (appendElem) == 'string') {
        appendElem = ZeroClipboard.$(appendElem);
    }
    else if (typeof (appendElem) == 'undefined') {
        appendElem = document.getElementsByTagName('body')[0];
    }
    var box = ZeroClipboard.getDOMObjectPosition(this.domElement, appendElem);
    this.div = document.createElement('div');
    var style = this.div.style;
    style.position = 'absolute';
    style.left = '' + box.left + 'px';
    style.top = '' + box.top + 'px';
    style.width = '' + box.width + 'px';
    style.height = '' + box.height + 'px';
    style.zIndex = zIndex;
    if (typeof (stylesToAdd) == 'object') {
        for (addedStyle in stylesToAdd) {
            style[addedStyle] = stylesToAdd[addedStyle];
        }
    }
    appendElem.appendChild(this.div);
    this.div.innerHTML = this.getHTML(box.width, box.height);
},getHTML: function(width, height) {
    var html = '';
    var flashvars = 'id=' + this.id + '&width=' + width + '&height=' + height;
    if (navigator.userAgent.match(/MSIE/)) {
        var protocol = location.href.match(/^https/i) ? 'https://' : 'http://';
        html += '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="' + protocol + 'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="' + width + '" height="' + height + '" id="' + this.movieId + '" align="middle"><param name="allowScriptAccess" value="always"><param name="allowFullScreen" value="false"><param name="movie" value="' + ZeroClipboard.moviePath + '"><param name="loop" value="false"><param name="menu" value="false"><param name="quality" value="best"><param name="bgcolor" value="#ffffff"><param name="flashvars" value="' + flashvars + '"><param name="wmode" value="transparent"></object>';
    }
    else {
        html += '<embed id="' + this.movieId + '" src="' + ZeroClipboard.moviePath + '" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="' + width + '" height="' + height + '" name="' + this.movieId + '" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="' + flashvars + '" wmode="transparent">';
    }
    return html;
},hide: function() {
    if (this.div) {
        this.div.style.left = '-2000px';
    }
},show: function() {
    this.reposition();
},destroy: function() {
    if (this.domElement && this.div) {
        this.hide();
        this.div.innerHTML = '';
        var body = document.getElementsByTagName('body')[0];
        try {
            body.removeChild(this.div);
        } catch (e) {
            ;
        }
        this.domElement = null;
        this.div = null;
    }
},reposition: function(elem) {
    if (elem) {
        this.domElement = ZeroClipboard.$(elem);
        if (!this.domElement)
            this.hide();
    }
    if (this.domElement && this.div) {
        var box = ZeroClipboard.getDOMObjectPosition(this.domElement);
        var style = this.div.style;
        style.left = '' + box.left + 'px';
        style.top = '' + box.top + 'px';
    }
},setText: function(newText) {
    this.clipText = newText;
    if (this.ready)
        this.movie.setText(newText);
},addEventListener: function(eventName, func) {
    eventName = eventName.toString().toLowerCase().replace(/^on/, '');
    if (!this.handlers[eventName])
        this.handlers[eventName] = [];
    this.handlers[eventName].push(func);
},setHandCursor: function(enabled) {
    this.handCursorEnabled = enabled;
    if (this.ready)
        this.movie.setHandCursor(enabled);
},setCSSEffects: function(enabled) {
    this.cssEffects = !!enabled;
},receiveEvent: function(eventName, args) {
    eventName = eventName.toString().toLowerCase().replace(/^on/, '');
    switch (eventName) {
        case 'load':
            this.movie = document.getElementById(this.movieId);
            if (!this.movie) {
                var self = this;
                setTimeout(function() {
                    self.receiveEvent('load', null);
                }, 1);
                return;
            }
            if (!this.ready && navigator.userAgent.match(/Firefox/) && navigator.userAgent.match(/Windows/)) {
                var self = this;
                setTimeout(function() {
                    self.receiveEvent('load', null);
                }, 100);
                this.ready = true;
                return;
            }
            this.ready = true;
            this.movie.setText(this.clipText);
            this.movie.setHandCursor(this.handCursorEnabled);
            break;
        case 'mouseover':
            if (this.domElement && this.cssEffects) {
                this.domElement.addClass('hover');
                if (this.recoverActive)
                    this.domElement.addClass('active');
            }
            break;
        case 'mouseout':
            if (this.domElement && this.cssEffects) {
                this.recoverActive = false;
                if (this.domElement.hasClass('active')) {
                    this.domElement.removeClass('active');
                    this.recoverActive = true;
                }
                this.domElement.removeClass('hover');
            }
            break;
        case 'mousedown':
            if (this.domElement && this.cssEffects) {
                this.domElement.addClass('active');
            }
            break;
        case 'mouseup':
            if (this.domElement && this.cssEffects) {
                this.domElement.removeClass('active');
                this.recoverActive = false;
            }
            break;
    }
    if (this.handlers[eventName]) {
        for (var idx = 0, len = this.handlers[eventName].length; idx < len; idx++) {
            var func = this.handlers[eventName][idx];
            if (typeof (func) == 'function') {
                func(this, args);
            }
            else if ((typeof (func) == 'object') && (func.length == 2)) {
                func[0][func[1]](this, args);
            }
            else if (typeof (func) == 'string') {
                window[func](this, args);
            }
        }
    }
}};
/*article_code.js*/
$(document).ready(function() {
    $(".article_content pre").each(function() {
        var $this = $(this);
        if ($this.attr("class") != undefined) {
            if ($this.attr("class").indexOf("brush:") != -1) {
                var lang = $this.attr("class").split(';')[0].split(':')[1];
                $this.attr('name', 'code');
                $this.attr('class', lang);
            }
            if ($this.attr("class")) {
                $this.attr('name', 'code');
            }
        }
    });
    $('.article_content textarea[name=code]').each(function() {
        var $this = $(this);
        if ($this.attr("class").indexOf(":") != -1) {
            $this.attr("class", $this.attr("class").split(':')[0]);
        }
    });
    dp.SyntaxHighlighter.HighlightAll('code');
    $('.highlighter').addClass('dp-highlighter');
    if (!window.clipboardData) {
        setTimeout("setCopyBtn()", 500);
    }
});
function setCopyBtn() {
    $('.CopyToClipboard').each(function() {
        var clip = new ZeroClipboard.Client();
        clip.setHandCursor(true);
        clip.addEventListener('load', function(client) {
        });
        clip.addEventListener('mouseOver', function(client) {
            //var _c_ode = client.movie.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;
            var _c_ode = client.movie.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;
            _c_ode = _c_ode.replace(/&lt;/g, "<").replace( &gt;="" g,="" "="">").replace(/&amp;/g, "&");
            client.setText(_c_ode);
        });
        clip.addEventListener('complete', function(client, text) {
            alert("代码已经复制到你的剪贴板。");
        });
        clip.glue(this, this.parentNode);
    });
}

jQuery(function() {
    new CNick().showNickname();
});
/*medal...show.js*/
var __mm_arr = null;
function printMedal(m_arr) {
    //__mm_arr = m_arr;
    //var s = "<div id="bms_box">";
    //for (var i = 0; i < m_arr.length; i++) {
    //    s += "<a href="http://medal.blog.csdn.net/allmedal.aspx" target="_blank">";
    //    s += "<img src="" + m_arr[i].src + "" ";="" s="" +=" onmouseover='m_over_m(this," i="" ")'";="" ;="" }="" $('#blog_medal').append($(s));="" var="" __mm_over="false;" function="" m_over_m(e,="" i)="" {="" showmedalinfo(e,="" i);="" m_out_m()="" hidemedalinfo();="" __mm_intro="null;" if="" (__mm_intro)="" document.body.removechild(__mm_intro);="" m="__mm_arr[i];" img="$("#bms_box" a="" img[onmouseover$="" + i + ")" ]").attr("src");="" title="" desc="" (img.indexof("zhuanlandaren")="">-1)
    {
        title = "专栏达人"; desc = "授予成功创建个人博客专栏的用户。专栏中添加五篇以上博文即可点亮！撰写博客专栏浓缩技术精华，专栏达人就是你！";
    }
    else if (img.indexOf("chizhiyiheng")>-1)
    {
        title = "持之以恒"; desc = "授予每个自然月内发布4篇或4篇以上原创或翻译IT博文的用户。不积跬步无以至千里，不积小流无以成江海，程序人生的精彩需要坚持不懈地积累！";
    }
    else if (img.indexOf("weiruanmvp")>-1) {
        title = "微软MVP"; desc = "授予通过CSDN博客平台积极分享微软相关技术知识和专业技能，并做出突出贡献的用户。";
    }
    else if (img.indexOf("bokezhixing")>-1) {
        title = "博客之星"; desc = "授予通过\"CSDN博客之星评选\"中脱颖而出的十大博客之星称号的用户。";
    }

    s += "<div style="  z-index:99999 ; left: 15%;  top: -9px;  position: absolute;  width: 0;  height: 0;  border-left: 10px solid transparent;  border-right: 10px solid transparent;  border-bottom: 8px solid #EAEAEA; "></div>";
    s += "<dl onmouseover="__mm_over=true;" onmouseout="m_out_m();">";
    s += "<dt><img src="" + img.replace(".png", "") + "middle.png" + ""></dt>";
    s += "<dd><strong>" + title + "</strong>" + desc + "</dd>";
    s += "</dl>";
    __mm_intro = document.createElement("div");
    __mm_intro.className = "medal_intro";
    var pos = $(e).position();
    var left = pos.left - 39;
    if (left < 0)
        left = 0;
    __mm_intro.style.left = left + 'px';
    __mm_intro.style.top = pos.top + 32 + 4 + 'px';
    __mm_intro.innerHTML = s;
    document.body.appendChild(__mm_intro);
}
function hideMedalInfo() {
    setTimeout(function() {
        if (!__mm_over && __mm_intro) {
            document.body.removeChild(__mm_intro);
            __mm_intro = null;
        }
    }, 500);
}

$("#leveImg").hover(
    function () {
        $("#smallTittle")[0].style.display="inline-block";
    },
    function () {
        $("#smallTittle")[0].style.display="none";
    }
);
</a></div></").replace(></)></)></)!--\\s*.*?\\s*--(&gt;|></)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](&gt;|></=></(br)\></br\s*\>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/cnick/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            var __hasProp={}.hasOwnProperty;!function(a){var b,c,d,e;d=this,b=d.jQuery,c={},a(d,c,b),void 0===d.csdn&&(d.csdn=c);for(e in c)__hasProp.call(c,e)&&(d[e]=d.csdn[e]=c[e])}(function(a,b,c){var d,e,f,g,h;if(!(a.CNick instanceof Function&&a.cnick instanceof Function&&(null!=(h=a.csdn)?h.cnick:void 0)instanceof Function))return void 0===String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),g={},e=function(b,c){var d,e;return arguments.length>1?(g[b]=c,null!=(d=a.localStorage)?d["cnick_"+b]=+new Date+","+c:void 0):null!=b?g[b]||function(a){var b,c,d,e;if(null!=a)return d=a.split(","),b=d[0],c=d[1],0<(e=new date-new="" date(parseint(b,10)))&&1728e5="">e?c:void 0}(null!=(e=a.localStorage)?e["cnick_"+b]:void 0):void 0},b.cnick=f=function(b,d,f){var g,h,i,j,k,l,m,n,o,p;for(null==b&&(b="a.user_name"),null==d&&(d=a.document),null==f&&(f=!1),h=c(b,d).filter(function(){return f||null==c(this).data("orig_username")}).data("orig_username",""),k={},o=0,p=h.length;p>o;o++)g=h[o],m=g.innerHTML.trim(),null!=(l=e(m))?c(g).data("orig_username",m).text(l):(j=k.hasOwnProperty(m)?k[m]:k[m]=[],j.push(g));for(n=function(){var a;a=[];for(i in k)__hasProp.call(k,i)&&a.push(i);return a}();n.length>0;)c.getJSON("https://passport.csdn.net/get/nick?callback=?",{users:n.splice(0,100).join()},function(a){var b,d,f,g,h;if(d=a.status,b=a.data,d&&b)for(f=0,g=b.length;g>f;f++)h=b[f],m=h.u,i=h.n,"null"===i&&(i=m),c(k[m]).data("orig_username",m).text(function(a,b){return i||b}),e(m,i)})},c(function(){return f()}),a.CNick=d=function(){function a(a){this.selector=a}return a.prototype.showNickname=function(){return f(this.selector)},a}()});</(e=new>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/async_new/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            (function (d, c) {
    var host_info = document.domain;
    var prefix_domain = '';
    if (host_info.match(/^beta*/)) {
        prefix_domain = 'beta';
    } else if (host_info.match(/^l[a-z]*/)) {
        prefix_domain = 'l';
    }
    var host_http = 'http://' + prefix_domain + 'ads.csdn.net/';

    var a = "8c38e720de1c90a6f6ff52f3f89c4d57";
    c.reviveAsync = c.reviveAsync || {};
    if (!c.reviveAsync.hasOwnProperty(a)) {
        f = c.reviveAsync[a] = {
            id: Object.keys(c.reviveAsync).length,
            name: "revive",
            start: function () {
                var e = function () {
                    try {
                        if (!f.done) {
                            d.removeEventListener("DOMContentLoaded", e, false);
                            c.removeEventListener("load", e, false);
                            f.done = true;
                            f.apply(f.detect())
                        }
                    } catch (g) {
                        console.log(g)
                    }
                };
                if (d.readyState === "complete") {
                    setTimeout(e)
                } else {
                    d.addEventListener("DOMContentLoaded", e, false);
                    c.addEventListener("load", e, false)
                }
            },
            ajax: function (e, g) {
                /*
                 var h = new XMLHttpRequest();
                 h.onreadystatechange = function() {
                 if (this.readyState == 4) {
                 if (this.status == 200) {
                 //f.spc(JSON.parse(this.responseText))
                 }
                 }
                 };
                 h.open("GET", e + "?" + f.encode(g).join("&"), true);
                 h.withCredentials = true;
                 h.send()
                 */
                /*
                 var oHead = document.getElementsByTagName('HEAD').item(0);
                 var oScript= document.createElement("script");
                 oScript.type = "text/javascript";
                 oScript.src=e + "?" + f.encode(g).join("&");
                 oHead.appendChild(oScript);
                 */
                //alert(1);

            },
            encode: function (m, n) {
                var e = [], h, i;
                for (h in m) {
                    if (m.hasOwnProperty(h)) {
                        var l = n ? n + "[" + h + "]" : h;
                        if ((/string|number|boolean/).test(typeof m[h])) {
                            e.push(encodeURIComponent(l) + "="
                            + encodeURIComponent(m[h]))
                        } else {
                            var g = f.encode(m[h], l);
                            for (i in g) {
                                e.push(g[i])
                            }
                        }
                    }
                }
                return e
            },
            apply: function (g_m) {
                var g = g_m[0];
                if (g.zones.length) {
                    var e = host_http + "get_ads.php";
                    g.zones = g.zones.join("|");
                    g.loc = d.location.href;
                    g.ip = d.ip;
                    g.iframe = g.iframe.join("|");
                    if (d.referrer) {
                        g.referer = d.referrer
                    }
                    //var aaa= document.getElementById("test1");
                    //alert(aaa.innerHTML);
                    //g_m[1].innerHTML = "aaa<script type="text/javascript" src=""+e + "?" + f.encode(g).join("&")+""><\/script>";

                    //f.ajax(e, g)
                    var span = document.createElement("span");
                    g_m[1] = g_m[1].appendChild(span);
                    if (g_m[1]) g_m[1].parentNode.removeChild(g_m[1]);
                    var scriptObj = document.createElement("script");
                    scriptObj.src = e + "?ip=" + f.GetQueryString("ip") + "&" + f.encode(g).join("&");
                    scriptObj.type = "text/javascript";
                    document.getElementsByTagName("head")[0].appendChild(scriptObj);

                    //var sinfo = '{"revive-0-0":{"html":"<table width=\'150\' height=\'300\' border=\'0\' cellspacing=\'0\' cellpadding=\'0\' align=\'center\' bgcolor=\'#fff\' style=\'background-color:#fff;border-left:1px solid #e8e8e8;border-right:1px solid #e8e8e8;\'>    <tbody>     <tr style=\'vertical-align:top;\'>      <td width=\'150\'>&nbsp;<\/td>      <td style=\'text-align:center;\'><img src=\'http:\/\/img.bss.csdn.net\/201511241004259379.png\' \/>       <p style=\'height:14px\'><\/p><p style=\'font-size:16px;font-family:\'\u5fae\u8f6f\u96c5\u9ed1\',\u5b8b\u4f53,Arial,sans-serif;line-height:22px;color:#ff9900;text-align:center;\'>\u56fe\u6587\u6df7\u6392\u5e7f\u544a\u6d4b\u8bd5<p> <p style=\'font-size:14px;font-family:\'\u5fae\u8f6f\u96c5\u9ed1\',\u5b8b\u4f53,Arial,sans-serif;line-height:22px;color:#666;text-align:left;\'>\u8fd9\u662f\u7b80\u5355\u7684\u56fe\u6587\u6df7\u6392\u6d4b\u8bd5<p><\/td>  <td width=\'90\'>&nbsp;<\/td>     <td width=\'150\' style=\'border-right:1px solid #e8e8e8;\'>&nbsp;<\/td>     <\/tr>    <\/tbody>  <\/table> ","width":"150","height":"300"}}';
                    //var kinfo = '{"revive-0-0":{"html":"aaabbb","width":"150","height":"300"}}';
                    //alert(sinfo);
                    //f.spc(JSON.parse(sinfo));
                }
            },
            detect: function () {
                var o = d.querySelectorAll("ins[data-" + f.name + "-id='" + a
                + "']");
                var n = {
                    zones: [],
                    iframe: [],
                    prefix: f.name + "-" + f.id + "-"
                };
                for (var g = 0; g < o.length; g++) {
                    var k = o[g];
                    var ak = k;
                    if (k.hasAttribute("data-" + f.name + "-zoneid")) {
                        var l = new RegExp("^data-" + f.name + "-(.*)$"), e;
                        for (var h = 0; h < k.attributes.length; h++) {
                            if (e = k.attributes[h].name.match(l)) {
                                if (e[1] == "zoneid") {
                                    n.zones[g] = k.attributes[h].value;
                                    k.id = n.prefix + g
                                } else {
                                    if (e[1] != "id") {
                                        n[e[1]] = k.attributes[h].value
                                    }
                                }
                            }
                        }
                    }
                    if (ak.hasAttribute("iframe")) {
                        var al = new RegExp("iframe"), e;
                        for (var h = 0; h < ak.attributes.length; h++) {
                            if (e = ak.attributes[h].name.match(al)) {
                                if (e == "iframe") {
                                    n.iframe[g] = ak.attributes[h].value;
                                }
                            }
                        }
                    } else {
                        n.iframe[g] = 'false';
                    }
                }
                var n_m = new Array();
                n_m[0] = n;
                n_m[1] = k;
                return n_m;
            },
            createFrame: function (h) {
                var e = d.createElement("IFRAME"), g = e.style;
                e.scrolling = "no";
                e.frameBorder = 0;
                e.width = h.width > 0 ? h.width : 0;
                e.height = h.height > 0 ? h.height : 0;
                g.border = 0;
                g.overflow = "hidden";
                return e
            },
            loadFrame: function (g, e) {
                var h = g.contentDocument || g.contentWindow.document;
                h.open();
                h.writeln("<!DOCTYPE html>");
                h.writeln("<html>");
                h.writeln('<head><base target="_top"></head>');
                h.writeln('<body border="0" margin="0" style="margin: 0; padding: 0">');
                h.writeln(e);
                h.writeln("</body>");
                h.writeln("</html>");
                h.close()
            },
            spc: function (k) {
                for (var e in k) {
                    if (k.hasOwnProperty(e)) {
                        var o = k[e];
                        var n = d.getElementById(e);
                        if (o.html) {
                            if (n) {
                                var m = d.createElement("div");
                                var w=o.width;
                                var h=o.height;
								m.style.width=w+"px";
								m.style.height=h+"px";
                                //m.style = "padding: 0px; margin: 0px; border: 0px none;width:"+o.width+"px;height:"+o.height+"px";
                                //m.class = "J_adv";
                                m.setAttribute('class','J_adv'); 
                                m.setAttribute("data-view", o.data_view);
                                m.setAttribute("data-mod", 'ad_popu_' + o.data_aid);//广告位id
                                m.setAttribute("data-mtp", o.data_mod);//广告位类型
                                m.setAttribute("data-order", o.data_order);//广告位类型
                                if (o.hasOwnProperty('data_swapimg')) {
                                    m.setAttribute('data-swapimg', o.data_swapimg);
                                }
                                //var img =new Image();
                    			//img.src="http://ads.csdn.net/add_num.php?mod=ad_popu_"+o.data_aid+"&ck=-";
                    			
                    			var adv={};
                    			adv.data={};
                    			var preAdr=d.referrer || "-";   // 前一个文档地址
                    			adv.data.ref = preAdr;
                    			adv.data.mtp = o.data_mod;
                    			adv.data.mod = 'ad_popu_'+o.data_aid;
                    			adv.data.con = 'ad_content_'+o.data_ideaid+',ad_order_'+o.data_order;
                    			//f.sendData(adv,"//ads.csdn.net/add_num.php?");
                    			f.sendData(adv,"//dc.csdn.net/re?");
                    			
                                m.setAttribute("data-con", 'ad_content_' + o.data_ideaid);
                                m.setAttribute("class", "J_adv");
                                if (o.iframeFriendly) {
                                    var l = f.createFrame(o);
                                    m.appendChild(l);
                                    n.parentNode.replaceChild(m, n);
                                    f.loadFrame(l, o.html);
                                } else {
                                    m.innerHTML = o.html;
                                    var g = m.getElementsByTagName("SCRIPT");
                                    for (var l = 0; l < g.length; l++) {
                                        var q = document.createElement("SCRIPT");
                                        var p = g[l].attributes;
                                        for (var h = 0; h < p.length; h++) {
                                            q[p[h].nodeName] = p[h].value
                                        }
                                        if (g[l].innerHTML) {
                                            q.text = g[l].innerHTML;
                                        }
                                        m.replaceChild(q, g[l])
                                    }
                                    n.parentNode.replaceChild(m, n)
                                }
                            }
                        }
                    }
                }

                //CSDN.track.addAdvs();
                
                 if(f.isExitsFunction('CSDN.track.addAdvs')){
                	 CSDN.track.addAdvs();
                 }
                 
            },
            //是否存在指定函数
            isExitsFunction: function (funcName) {
                try {
                    if (typeof(eval(funcName)) == "function") {
                        return true;
                    }
                } catch (e) {
                }
                return false;
            },
            GetQueryString: function (name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);
                if (r != null) return unescape(r[2]);
                else return null;
            },
            //获取用户ID
    		getUserId:function(){
    			var result=/(; )?(UserName|_javaeye_cookie_id_)=([^;]+)/.exec(d.cookie);
    			var uid= (result != null ? result[3] : void 0) || '-';
    			return uid;
    		},
    		//提交数据
    		sendData:function(adv,url){
    			adv.data.uid=f.getUserId();
    			protocol="http:";
    			adv.data.ck='-';
    			var dataStr=this.paramData(adv.data);
    			var img =new Image();
    			img.onload=img.onerror=function(){
    				img.onload=img.onerror=null;
    				img=null;
    			}
				img.src=protocol+url+dataStr;
    		},
    		//数据转换为字符串形式
    		paramData:function(data){
    			var dataArr=[];
    			for(var key in data){
    				var text=key+"="+data[key];
    				text.replace(/^\s+|\s+$/g,"");
    				dataArr.push(text);
    			}
    			return dataArr.join("&")
    		}
        };
        try {
            f.start()
        } catch (b) {
            console.log(b)
        }
    }
})(document, window);
</script>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/comment/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            var list = []; //评论列表
var editorId = "#comment_content";
var verifycodeId = "#img_verifycode";
var listId = "#comment_list";

$(document).ready(init_comment);

function init_comment() {
    load_comment_form();

    editor = $(editorId);

    var editor_inter = null;
    if (editor.length > 0) {
       // var v = ["html", "objc", "javascript", "css", "php", "csharp", "cpp", "java", "python", "ruby", "vb", "delphi", "sql", "plain"];
       // var k = ["HTML/XML","Objective-C", "JavaScript", "CSS", "PHP", "C#", "C++", "Java", "Python", "Ruby", "Visual Basic", "Delphi", "SQL", "其它"];
       // for (var i = 0; i < v.length; i++) {
      //      $("#lang_list").append('<a href="#' + v[i] + '">' + k[i] + '</a>');
        // }
        $("#lang_list").append('<a class="long_name" href="#html">HTML/XML</a><a class="long_name" href="#objc">objective-c</a><a class="zhong_name" href="#delphi">Delphi</a><a class="zhong_name" href="#ruby">Ruby</a><a href="#php">PHP</a><a class="duan_name" href="#csharp">C#</a><a style=" border-right: none;" class="duan_name" href="#cpp">C++</a><a style=" border-bottom:none;" class="long_name" href="#javascript">JavaScript</a><a style=" border-bottom:none;" class="long_name" href="#vb">Visual Basic</a><a style=" border-bottom:none;" class="zhong_name" href="#python">Python</a><a style=" border-bottom:none;" class="zhong_name" href="#java">Java</a><a style="border-bottom:none;" class="duan_name" href="#css">CSS</a><a style="border-bottom:none;" class="duan_name" href="#sql">SQL</a><a style="border:none;" class="duan_name" href="#plain">其它</a>');
        editor.focus(function () {
            editor_inter = setInterval(function () {
                commentTip("还能输入" + (1000 - editor.val().length) + "个字符");
            }, 200);
        }).blur(function () {
            if (editor_inter) clearInterval(editor_inter);
        });
    }

    //加载列表
    loadList(1);
}
function noComments() {
    $(listId).html('<br>&nbsp;&nbsp;暂无评论<br><br><div class="clear"></div>');
}
function loadList(pageIndex, isSub) {
    if (commentscount == 0) {
        noComments();
        return;
    }
    pageIndex = parseInt(pageIndex) || 1;

    $("#comments_bar").html("正在加载评论...");
    //var cmtUrl = "../../comment/list/" + fileName + "?page=" + (pageIndex || 1);
    var url = location.href.toString().split('/');
    var cmtUrl = "http://"+url[2]+"/"+url[3]+"/comment/list/" + fileName + "?page=" + (pageIndex || 1);
    if (isSub) cmtUrl += "&_" + Math.random();
    $.get(cmtUrl, function (json) {

        if (!json) {
            noComments();
            return;
        }
        var data = (typeof json == 'object') ? json : eval("(" + json + ")");
        if (isSub) list = data.list;
        else list = list.concat(data.list);

        var listHtml = '';

        //构造主题
        var topics = getTopics(list);

        var total = data.total > 0 ? data.total : topics.length;
        //组装HTM
        for (var i = 0; i < topics.length; i++) {
            var comment = topics[i];
            var layer = total - i;

            listHtml += getItemHtml(comment, layer);
        }
        listHtml += '<div class="clear"></div>';
        //输出列表
        $(listId).html(listHtml);
        //高亮评论中的代码段
        dp.SyntaxHighlighter.HighlightAll('code2');
        //展示昵称
        new CNick(listId + ' a.username').showNickname();

        //分页处理
        if (data.page.PageIndex >= data.page.PageCount) {
            $("#comment_bar").hide();
        } else {
            $("#comment_bar").html('<div id="load_comments" page="' + (pageIndex + 1) + '">查看更多评论</div>');
        }
        //添加按钮事件
        setBtnEvent();
    });
};

//获取评论主题
function getTopics(list) {
    var topics = [];
    for (var i = 0; i < list.length; i++) {
        var t = list[i];
        if (t.ParentId == 0) {
            t.Replies = getReplies(t, list);
            topics.push(t);
        }
    }
    return topics;
}
//获取评论回复
function getReplies(item, list) {
    var replies = [];
    for (var i = 0; i < list.length; i++) {
        var r = list[i];
        if (r.ParentId == item.CommentId) {
            r.Replies = getReplies(r, list);
            replies.push(r);
        }
    }
    return replies;
}
//获取评论的HTML
function getItemHtml(comment, index, floor, deep) {
    if (!deep) deep = 0;
    var sty = deep > 3 ? ' style="margin-left:0;"' : '';
    var html = '<dl class="comment_item comment_' + (comment.ParentId > 0 ? " reply"="" :="" "topic")="" +="" '"="" id="comment_item_{id}" '="" sty="">' +
		'<dt class="comment_head" floor=" + (floor || index) + ">' + (comment.ParentId > 0 ? "Re:" : index + '楼') + ' <span class="user">';

    if (comment.UserName != null && comment.UserName != '')
        html += '<a class="username" href="/' + comment.UserName + '" target="_blank">' + comment.UserName + '</a>';
    else
        html += '[游客]';

    html += " <span class="ptime">" + comment.PostTime + "发表</span> ";
    html += ' <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="{id}" username="{username}"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a>';
    if (username == currentUserName || comment.UserName == currentUserName) html += ' <a href="#delete" class="cmt_btn delete" title="删除">[删除]</a>';
    html += '</span></span></dt>';
    html += '<dd class="comment_userface"><a href="/' + comment.UserName + '" target="_blank"><img src="' + comment.Userface + '" width="40" height="40"></a></dd>';
    html += '<dd class="comment_body">' + replaceUBBToHTML(comment) + '</dd>';
    html = html.replace(/\{id\}/g, comment.CommentId).replace(/\{username\}/g, comment.UserName);

    if (comment.Replies != null) {
        for (var j = 0; j < comment.Replies.length; j++) {
            html += getItemHtml(comment.Replies[j], j + 1, index, deep + 1);
        }
    }
    html += "</dl>";

    return html;
}
//获取评论对象
function getComment(commentId, list) {
    for (var i = 0; i < list.length; i++) {
        var comment = list[i];
        if (comment.CommentId == commentId)
            return comment;
    }
    return null;
}
function setBtnEvent() {

    $("#load_comments").click(function () {
        var page = $(this).attr("page");
        loadList(page);
    });

    //评论按钮点击
    $(".comment_head a").click(function () {
        var action = $(this).attr("href");

        action = action.substring(action.lastIndexOf('#'));

        var commentId = $(this).parent().attr("commentid");
        switch (action) {
            case "#reply":
                if (currentUserName) {
                    commentId = $(".comment_manage", $(this).parent()).attr("commentid");
                    replyComment(commentId, list);
                    setEditorFocus();
                }
                return true;
            case "#quote":
                if (currentUserName) {
                    quoteComment(commentId, list);
                    setEditorFocus();
                }
                return true;
            case "#report":
                reportComment(commentId, this);
                break;
            case "#delete":
                deleteComment(commentId);
                break;
            default:
                return true;
        }
        return false;
    });

    $(".comment_item").mouseover(function () {
        $(".comment_manage", $(this)).eq(0).show();
    }).mouseout(function () {
        $(".comment_manage", $(this)).eq(0).hide();
    });
}
/*使评论框获得焦点*/
function setEditorFocus() {
    var val = editor.val();
    editor.val('');
    editor.focus();
    editor.val(val);
}
//引用评论
function quoteComment(commentId, list) {
    var comment = getComment(commentId, list);
    var content = comment.Content;
    if (comment.Content.length > 50) {
        content = comment.Content.substring(0, 50) + "...";
    }
    editor.val("[quote=" + (comment.UserName == null ? "游客" : comment.UserName) + "]" + content + "[/quote]\r\n");
}
//回复评论
function replyComment(commentId, list) {
    var comment = getComment(commentId, list);
    editor.val('[reply]' + comment.UserName + "[/reply]\r\n");
    $("#comment_replyId").val(commentId);
}
//举报评论
function reportComment(commentId, e) {
    report(commentId, 3, e);
}
//删除评论
function deleteComment(commentId) {
    if (!confirm("你确定要删除这篇评论吗？")) return;

    var delUrl = blog_address + "/comment/delete?commentid=" + commentId + "&filename=" + fileName;
    $.get(delUrl, function (data) {
        if (data.result == 1) {
            $("#comment_item_" + commentId).hide().remove();
        } else {
            alert("你没有删除该评论的权限！");
        }
    });
}
//替换评论的UBB代码
function replaceUBBToHTML(comment) {
    var content = $.trim(comment.Content);

    var re = /\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/ig;

    var codelist = [];
    while ((mc = re.exec(content)) != null) {
        codelist.push(mc[0]);
        content = content.replace(mc[0], "--code--");
    }
    content = replaceQuote(content);
    //content = content.replace(/\[e(\d+)\]/g, "<img src="\""" +="" static_host="" "="" images="" emotions="" e$1.gif\"\="">");
    content = content.replace(/\[reply]([\s\S]*?)\[\/reply\][\r\n]{0,2}/gi, "回复$1：");
    content = content.replace(/\[url=([^\]]+)]([\s\S]*?)\[\/url\]/gi, '<a href="$1" target="_blank">$2</a>');
    content = content.replace(/\[img(=([^\]]+))?]([\s\S]*?)\[\/img\]/gi, '<img src="$3" style="max-width:400px;max-height:200px;" border="0" title="$2">');
    //content = content.replace(/\[(\/?)(b|i|u|p)\]/ig, "<$1$2>");
    content = content.replace(/\r?\n/ig, "<br>");

    if (codelist.length > 0) {
        var re1 = /--code--/ig;
        var i = 0;
        while ((mc = re1.exec(content)) != null) {
            content = content.replace(mc[0], codelist[i]);
            i++;
        }
    }
    content = content.replace(/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/ig, function (m0, m1, m2) {
        if ($.trim(m2) == "") return '';
        return '<pre name="code2" class="' + m1 + '">' + m2 + '</pre>';
    });
    return content;
}
//替换评论的引用
function replaceQuote(str) {
    var m = /\[quote=([^\]]+)]([\s\S]*)\[\/quote\]/gi.exec(str);
    if (m) {
        return str.replace(m[0], '<fieldset><legend>引用“' + m[1] + '”的评论：</legend>' + replaceQuote(m[2]) + '</fieldset>');
    } else {
        return str;
    }
}



function load_comment_form() {
    var un = getcookie("UserName").toLowerCase();
    if (islock) {
        $("#comment_form").html("<div class="notice">该文章已被禁止评论！</div>");
    } else if (currentUserName || (un != null&&un!=""&&un!=undefined)) {
        var html = '<a name="commentbox"></a><a name="reply"></a><a name="quote"></a><form action="/' + username + '/comment/submit?id=' + fileName + '" method="post" onsubmit="return subform(this);">' +
		'<div class="commentform"><div class="panel_head">发表评论</div>' +
		'<ul><li class="left">用 户 名：</li><li class="right">' + currentUserName + '</li></ul>' +
		'<ul><li class="left">评论内容：</li><li class="right" style="position:relative;">' +
		'<div id="ubbtools">' +
		'<a href="#insertcode" code="code"><img src="' + static_host + '/images/ubb/code.gif" border="0" alt="插入代码" title="插入代码"></a>' +
		'</div>' +
		'<div id="lang_list" style="position: absolute; top: 28px; left: 0px; display: none;"></div>' +
		'<textarea class="comment_content" name="comment_content" id="comment_content" style="width: 400px; height: 200px;"></textarea>' +
		'</li></ul>' +
        '<ul><input type="hidden" id="comment_replyId" name="comment_replyId">' +
		'<input type="hidden" id="comment_userId" name="comment_userId" value="521203">' +
		'<input type="hidden" id="commentId" name="commentId" value="">';		

        //if (isBole)
        //{
        //    html += '<input type="checkbox" value="1" id="boleattohome" name="boleattohome">推荐到首页';
        //}
        
        html+= '<input type="submit" class="comment_btn" value="提交">&nbsp;&nbsp;<span id="tip_comment" style="color: Red; display: none;"></span>' +
		'</ul></div></form>';

        $("#comment_form").html(html);
    } else {
        var curl = encodeURIComponent(location.href);
        $("#comment_form").html('<div class="guest_link">您还没有登录,请' +
		//'<a href="javascript:void(0);" onclick="javascript:csdn.showLogin(function (dat) {js_logined(dat.data.userName);});" target="_blank" rel="external">[登录]</a>或' +
        '<a href="javascript:void(0);" onclick="javascript:loginbox();" target="_blank" rel="external">[登录]</a>或' +
		'<a href="http://passport.csdn.net/account/register?from=' + curl + '" target="_blank" rel="external">[注册]</a></div>');
    }
    ubb_event(); 
}

function getcookie(name) {
    var cookie_start = document.cookie.indexOf(name);
    var cookie_end = document.cookie.indexOf(";", cookie_start);
    return cookie_start == -1 ? '' : unescape(document.cookie.substring(cookie_start + name.length + 1, (cookie_end > cookie_start ? cookie_end : document.cookie.length)));
}

var c_doing = false;
function subform(e) {
    if (c_doing) return false;
    var content = $.trim($(editorId).val());
    if (content == "") {
        commentTip("评论内容没有填写!");
        return false;
    } else if (content.length > 1000) {
        commentTip("评论内容太长了，不能超过1000个字符！");
        return false;
    }
    var commentId = $("#commentId").val();
    commentTip("正在发表评论...");
    var beginTime = new Date();
    $(editorId).attr("disabled", true);
    $("button[type=submit]", e).attr("disabled", true);
    c_doing = true;
    $.ajax({
        type: "POST",
        url: $(e).attr("action"),
        data: {
            "commentid": commentId,
            "content": content,
            "replyId": $("#comment_replyId").val(),
            "boleattohome": $("#boleattohome").val()
        },
        success: function (data) {
            c_doing = false;
            commentTip(data.content);
            if (data.result) {
                var rcommentid=$("#comment_replyId").val()
                $(editorId).val('');
                $("#comment_replyId,#comment_verifycode").val('');

                commentscount++;
                loadList(1, true);
                $(editorId).attr("disabled", false);
                $("button[type=submit]", e).attr("disabled", false);

                commentTip("发表成功！评论耗时:" + (new Date() - beginTime) + "毫秒")

                if (rcommentid!=undefined && rcommentid != "")
                {
                    $("html,body").animate({ scrollTop: $("#comment_item_" + rcommentid).offset().top }, 1000);
                }
                
            }
        }
    });
    return false;
}

//操作提示
var _c_t;
function commentTip(message) {
    $("#tip_comment").html(message).show();
    clearTimeout(_c_t);
    _c_t = setTimeout(function () {
        $("#tip_comment").hide();
    }, 10000);
}

function ubb_event() {
    //ubb按钮事件
    $("#ubbtools").children().click(function () {
        var selectedValue = editor.selection();
        editor.focus();
        var code = $(this).attr("code");
        switch (code) {
            case "code":
                var lang_list = $("#lang_list");
                lang_list.show();
                lang_list.children().each(function () {
                    $(this).unbind("click").click(function () {
                        editor.val("[code=" + $.trim(this.href.split('#')[1]) + "]\n" + selectedValue + "\n[/code]");
                        lang_list.hide();
                    });
                });
                editor.click(function (e) {
                    lang_list.hide();
                });
                break;
            default:
                editor.val("[" + code + "]" + selectedValue + "[/" + code + "]");
                break;
        }
        return false;
    });
}</$1$2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/job_reco/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:54+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            /*
UI地址：\\192.168.6.119\产品管理\2_数据支撑\03_UI\职位推荐
引用方法：<script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
调用方法：csdn.position.show({
sourceType: "", //博客blog，论坛discussion_topic, 下载 download，问答ask_topic, 个人空间space？？, 英雄会hero？？, 在线培训 course, csto
tplType: "", //模板类型，
               博客详情：blogDetail,
               博客专栏：blogSpec,
               论坛详情：bbsDetail，
               问答详情：askDetail，
               个人空间--我的空间：personalSpaceMy，
               个人空间--首页：personalSpaceHome，
               英雄会--首页：heroHome
               英雄会--答题专家组：heroExpert
               英雄会--挑战题目详情页：heroFightDetail
               英雄会--我的英雄会：heroMy
               在线培训--课程分类列表：无
               在线培训--课程详情页：eduDetail
               搜索：search
               下载--我的资源：downMy
               下载--下载页和下载详情页：downDetail

               CSTO案例库列表：cstoCaseList
               CSTO案例详情页：cstoCaseDetail
               CSTO我的T台：cstoMy
               CSTO项目列表页：cstoProjectList
               CSTO项目详情页：cstoProjectDetail

searchType: "", //页面类型，用于搜索函数，detail(详情页) / list(列表页)。
searchKey: "", //搜索关键字，例如博客详情：博文ID，如果是博客专栏：分类字符串。
username: "", //当前登录用户名
containerId: "" //容器DIV的id。
});
举例：
博客详情页
<div id="job_blog_reco">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
   csdn.position.show({
     sourceType: "blog",
     tplType: "blogDetail",
     searchType: "detail",
     searchKey: "博文ID",
     username: "当前登录用户名",
     containerId: "job_blog_reco"  //容器DIV的id。
   });
 </script>
</div>

博客专栏页
<div id="job_blog_reco_spec">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
   csdn.position.show({
     sourceType: "blog",
     tplType: "blogSpec",
     searchType: "list",
     searchKey: "专栏分类字符串",
     username: "当前登录用户名",
     containerId: "job_blog_reco_spec"  //容器DIV的id。
   });
 </script>
</div>

论坛详情页
<div id="job_bbs_reco">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
   csdn.position.show({
     sourceType: "discussion_topic",
     tplType: "bbsDetail",
     searchType: "detail",
     searchKey: "贴子ID",
     username: "当前登录用户名",
     containerId: "job_bbs_reco"  //容器DIV的id。
   });
 </script>
</div>

问答详情页
<div id="job_ask_reco">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
   csdn.position.show({
     sourceType: "ask_topic",
     tplType: "askDetail",
     searchType: "detail",
     searchKey: "问题ID",
     username: "当前登录用户名",
     containerId: "job_ask_reco"  //容器DIV的id。
   });
 </script>
</div>

个人空间--我的空间
<div id="job_myspace_reco">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
   csdn.position.show({
     sourceType: "my",
     tplType: "personalSpaceMy",
     searchType: "list",
     searchKey: "NO",
     username: "当前登录用户名",
     containerId: "job_myspace_reco"  //容器DIV的id。
   });
 </script>
</div>
个人空间--首页
<div id="job_myhome_reco">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
   csdn.position.show({
     sourceType: "my",
     tplType: "personalSpaceHome",
     searchType: "list",
     searchKey: "NO",
     username: "当前登录用户名",
     containerId: "job_myhome_reco"  //容器DIV的id。
  });
 </script>
</div>







 英雄会-首页，正在发生的下面。
 http://hero.csdn.net/
 <div id="job_yx_home_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "hero",
   tplType: "heroHome",
   searchType: "list",
   searchKey: "NO",
   username: "当前登录用户名",
   containerId: "job_yx_home_reco"  //容器DIV的id。
   });
   </script>
 </div>

 英雄会--答题专家组，审题专家组下面。
 http://hero.csdn.net/Examine/Apply
 <div id="job_yx_expert_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "hero",
   tplType: "heroExpert",
   searchType: "list",
   searchKey: "NO",
   username: "当前登录用户名",
   containerId: "job_yx_expert_reco"  //容器DIV的id。
   });
   </script>
 </div>

 英雄会--挑战题目详情页，发布公司下面。
 http://hero.csdn.net/OnlineCompiler/Index?ID=10646&ExamID=10649&from=4
 <div id="job_yx_fight_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "hero",
   tplType: "heroFightDetail",
   searchType: "list",
   searchKey: "NO",
   username: "当前登录用户名",
   containerId: "job_yx_fight_reco"  //容器DIV的id。
   });
   </script>
 </div>


 英雄会--我的英雄会，列表的下面。
 http://hero.csdn.net/Exam/List
 <div id="job_yx_my_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "hero",
   tplType: "heroMy",
   searchType: "list",
   searchKey: "NO",
   username: "当前登录用户名",
   containerId: "job_yx_my_reco"  //容器DIV的id。
   });
   </script>
 </div>


 在线培训--课程分类列表
 <div id="job_edu_detail_reco">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
 csdn.position.show({
 sourceType: "course",
 tplType: "eduDetail",
 searchType: "list",
 searchKey: "页面上的搜索类型",
 username: "当前登录用户名",
 containerId: "job_edu_detail_reco"  //容器DIV的id。
 });
 </script>
 </div>




 在线培训--课程详情页，在右侧推荐课程下边。
 http://edu.csdn.net/course/detail/326
 <div id="job_edu_detail_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "course",
   tplType: "eduDetail",
   searchType: "detail",
   searchKey: "课程ID",
   username: "当前登录用户名",
   containerId: "job_edu_detail_reco"  //容器DIV的id。
   });
   </script>
 </div>



 搜索
 http://so.csdn.net/so/search/s.do?q=java
 <div id="job_search_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "all（该关键字暂时不被使用）",
   tplType: "search",
   searchType: "list",
   searchKey: "搜索关键字",
   username: "当前登录用户名",
   containerId: "job_search_reco"  //容器DIV的id。
   });
   </script>
 </div>

 下载--我的资源
 http://so.csdn.net/so/search/s.do?q=java
 <div id="job_down_my_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "download",
   tplType: "downMy",
   searchType: "list",
   searchKey: "NO",
   username: "当前登录用户名",
   containerId: "job_down_my_reco"  //容器DIV的id。
   });
   </script>
 </div>

 下载--下载页和下载详情页
 http://so.csdn.net/so/search/s.do?q=java
 <div id="job_down_detail_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "download",
   tplType: "downDetail",
   searchType: "detail",
   searchKey: "资源ID",
   username: "当前登录用户名",
   containerId: "job_down_detail_reco"  //容器DIV的id。
   });
   </script>
 </div>

 CSTO-案例库列表，放在“上周最受欢迎”下边。
 http://www.csto.com/case
 <div id="job_csto_caselist_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "csto",
   tplType: "cstoCaseList",
   searchType: "list",
   searchKey: "筛选条件里的热门分类和热门技术，逗号分隔",
   username: "当前登录用户名",
   containerId: "job_csto_caselist_reco"  //容器DIV的id。
   });
   </script>
 </div>

 CSTO-案例详情页，放在“最近浏览过的人”下边。
 http://www.csto.com/case/show/id:21740
 <div id="job_csto_casedetail_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "csto",
   tplType: "cstoCaseDetail",
   searchType: "detail",
   searchKey: "案例ID",
   username: "当前登录用户名",
   containerId: "job_csto_casedetail_reco"  //容器DIV的id。
   });
   </script>
 </div>

 CSTO-我的T台，放在“我的资料”下边。
 http://www.csto.com/my/info/edit
 <div id="job_csto_my_reco1">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "csto",
   tplType: "cstoMy",
   searchType: "list",
   searchKey: "NO",
   username: "当前登录用户名",
   containerId: "job_csto_my_reco1"  //容器DIV的id。
   });
   </script>
 </div>

 CSTO-项目列表页
 http://www.csto.com/project/list
 <div id="job_csto_projlist_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "csto",
   tplType: "cstoProjectList",
   searchType: "list",
   searchKey: "筛选条件里的热门分类和热门技术，逗号分隔",
   username: "当前登录用户名",
   containerId: "job_csto_projlist_reco"  //容器DIV的id。
   });
   </script>
 </div>



 CSTO-项目详情页
 http://www.csto.com/p/72969
 <div id="job_csto_projdetail_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
   csdn.position.show({
   sourceType: "csto",
   tplType: "cstoProjectDetail",
   searchType: "detail",
   searchKey: "项目ID",
   username: "当前登录用户名",
   containerId: "job_csto_projdetail_reco"  //容器DIV的id。
   });
   </script>
 </div>



//------------------------------------------------------------------------------------------------------------------
课程推荐
//------------------------------------------------------------------------------------------------------------------

 搜索页的培训推荐
 http://so.csdn.net/so/search/s.do?q=java
 <div id="edu_so_reco">
   <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
   <script type="text/javascript">
       csdn.position.showEdu({
           sourceType: "so",
           searchType: "detail",
           searchKey: "搜索关键字",
           username: "当前登录用户名",
           recordcount: "4",
           containerId: "edu_so_reco"  //容器DIV的id。
       });
   </script>
 </div>


搜索结果页


 博客详情页将原来的adCollege注释掉，其相同位置放置如下div。
博客详情页
 http://blog.csdn.net/hu1991die/article/details/45564465
 <div id="adCollege" style="width: 42%;float: left;">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
     csdn.position.showEdu({
         sourceType: "blog",
         searchType: "detail",
         searchKey: "博文id",
         username: "当前登录用户名",
         recordcount: "5",
         containerId: "adCollege"  //容器DIV的id。
     });
 </script>
 </div>


 下载详情页将原来的related po_down_detail_big_div注释掉，其相同位置放置如下div。
下载详情页
 http://download.csdn.net/detail/dudud20/8662993
 <div id="edu_down_reco" class="related po_down_detail_big_div">
 <script src="http://csdnimg.cn/jobreco/job_reco.js" type="text/javascript"></script>
 <script type="text/javascript">
     csdn.position.showEdu({
         sourceType: "down",
         searchType: "detail",
         searchKey: "下载资源id",
         username: "当前登录用户名",
         recordcount: "5",
         containerId: "edu_down_reco"  //容器DIV的id。
     });
 </script>
 </div>






//------------------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------------------



*/
$(document).ready(function() {
  var i = 1;
});
(function (window) {
  var csdn = window.csdn || {};
  function Position() {
    this.prefix = window.location.protocol;


    $("<link>")
      .attr({ rel: "stylesheet",
        type: "text/css",
        href: window.location.protocol + "//csdnimg.cn/jobreco/job_reco.css" //"//c.csdnimg.cn/jobreco/job_reco.css"//
      })
      .appendTo("head");

    /*
     http://blog.csdn.net/lmj623565791/article/details/42407923#t7
     http://blog.csdn.net/column.html
     http://bbs.csdn.net/topics/390963719
     http://ask.csdn.net/
     http://my.csdn.net/
     http://my.csdn.net/my/mycsdn
     http://hero.csdn.net/
    */

    //博客详情：tplType = blogDetail
    this.blogTpl = '<dl class="blog-ass-articl tracking-ad" data-mod="{0}">' +
      '<dt><span>准备好了么？&nbsp;<label class="po_blg_detail_tiao">跳</label><label class="po_blg_detail_ba">吧</label><label class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</label></span>' +
      '<a href="{1}" target="_blank" class="po_blg_more">更多职位尽在&nbsp;<label class="po_blg_detail_csdn">CSDN JOB</label></a></dt>' +
      '{2}' +
      '</dl>';//{0}，点击标记popu_36    //{1}，http, https ://job.csdn.net    //{2}，内容
    this.blogItem = '<dd class="po_blg_dd">' +
      '<div class="po_blg_po">' +
      '<a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a>' +
      '</div>' +
      '<div class="po_blg_company">' +
      '<a href="{3}" title="{4}" target="_blank">{5}</a>' +
      '</div>' +
      '<label class="po_blg_separator">|</label>' +
      '<div class="po_blg_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '<a class="po_blg_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</dd>' ;
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //博客专栏：tplType = blogSpec
    this.blogSpecTpl = '<div class="box_1 tracking-ad" data-mod="{0}">' +
      '<div style="position: relative;">' +
      '<h2>准备好了么？&nbsp;<label class="po_blg_detail_tiao">跳</label><label class="po_blg_detail_ba">吧</label><label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</label></h2>' +
      '</div>' +
      '<ul class="list_comm">' +
      '{2}' +
      '</ul>' +
      '<div class="po_blg_spec_more_div"><a href="{1}" target="_blank" class="po_blg_spec_more">更多职位尽在&nbsp;<label class="po_blg_spec_csdn">CSDN JOB</label></a></div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.blogSpecItem = '<li>' +
      '<div class="po_blg_spec_po">' +
      '<a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a>' +
      '</div>' +
      '<div class="po_blg_spec_company">' +
      '<a href="{3}" title="{4}" target="_blank">{5}</a>' +
      '</div>' +
      '<div class="po_blg_spec_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div><a class="po_blg_spec_iwant" href="{9}" target="_blank">我要跳槽</a></div>' +
      '</li>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //论坛详情：tplType = bbsDetail
    this.bbsTpl = '<div id="topic-suggest" class="po_bbs_div tracking-ad" data-mod="{0}">' +
      '<div class="related-tags po_bbs_tit_div">' +
      '<span>准备好了么？&nbsp;<label class="po_blg_detail_tiao">跳</label><label class="po_blg_detail_ba">吧</label><label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</label></span>' +
      '<a class="po_bbs_more" href="{1}" target="_blank">更多职位尽在&nbsp;<label class="po_bbs_csdn">CSDN JOB</label></a>' +
      '</div>' +
      '<div class="related-topics po_bbs_item_div">' +
      '<ul>' +
      '{2}' +
      '</ul>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.bbsItem = '<li class="po_bbs_li"><div class="po_bbs_po">' +
      '<a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a>' +
      '</div>' +
      '<div class="po_bbs_company">' +
      '<a href="{3}" title="{4}" target="_blank">{5}</a>' +
      '</div>' +
      '<label class="po_bbs_separator">|</label>' +
      '<div class="po_bbs_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div><a class="po_bbs_iwant" href="{9}" target="_blank">我要跳槽</a></div>' +
      '</li>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //问答首页：tplType = askDetail
    this.askTpl = '<div class="mod_other_ask hot_tags po_ask_div tracking-ad" data-mod="{0}">' +
      '<div class="other_ask">' +
      '<h3><span>准备好了么？&nbsp;<label class="po_ask_tiao">跳</label><label class="po_ask_ba">吧</label><label class="po_blg_detail_th">！</label></span></h3>' +
      '<div class="po_ask_div_list">' +
      '{2}' +
      '</div>' +
      '<div class="po_ask_more_div"><a href="{1}" target="_blank" class="po_ask_more">更多职位尽在&nbsp;<label class="po_my_home_csdn">CSDN JOB</label></a></div>' +
      '</div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.askItem = '<div class="po_ask_item_div">' +
      '<div class="po_ask_po">' +
      '<a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a>' +
      '</div>' +
      '<div class="po_ask_salary">' +
      '<a href="{6}" target="_blank">{7}</a>' +
      '</div>' +
      '<div class="po_ask_company">' +
      '<a href="{3}" title="{4}" target="_blank">{5}</a>' +
      '</div>' +
      '<a class="po_ask_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //个人空间-首页：tplType = personalSpaceHome
    this.perSpaceHomeTpl = '<div class="phr_third clearfix tracking-ad" data-mod="{0}">' +
      '<div class="phr_third_tit po_my_home_tit">' +
      '<div class="phrt_t po_my_home_t">准备好了么？&nbsp;<label class="po_my_my_tiao">跳</label><label class="po_my_my_ba">吧</label><label class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</label></div>' +
      '</div>' +
      '<div class="phr_third_con po_my_home_div">' +
      '{2}' +
      '</div>' +
      '<div class="po_my_home_more"><a href="{1}" target="_blank" class="po_my_home_more">更多职位尽在&nbsp;<label class="po_my_home_csdn">CSDN JOB</label></a></div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.perSpaceHomeItem = '<div class="po_my_home_item_div clearfix">' +
      '<div class="po_my_home_po"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_my_home_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div class="po_my_home_company"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<a class="po_my_home_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //个人空间-我的：tplType = personalSpaceMy
    this.perSpaceMyTpl = '<div class="interested_con tracking-ad" data-mod="{0}" style="display: block;">' +
      '<h3 class="po_my_my_h3">准备好了么？&nbsp;<label class="po_my_my_tiao">跳</label><label class="po_my_my_ba">吧</label><label class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</label></h3>' +
      '{2}' +
      '<div class="po_my_my_more_div"><a href="{1}" target="_blank" class="po_my_my_more">更多职位尽在&nbsp;<label class="po_my_my_csdn">CSDN JOB</label></a></div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.perSpaceMyItem = '<div class="po_my_my_item_div">' +
      '<div class="po_my_my_po">' +
      '<a class="po_my_my_po_a" href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a>' +
      '</div>' +
      '<div class="po_my_my_salary">' +
      '<a href="{6}" target="_blank">{7}</a>' +
      '</div>' +
      '<div class="po_my_my_company">' +
      '<a href="{3}" title="{4}" target="_blank">{5}</a>' +
      '</div>' +
      '<a class="po_my_my_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略    //{9}，职位链接


    //英雄会--首页
    this.heroHomeTpl = '<div class="her_topic_right tracking-ad" data-mod="{0}">' +
      '<h3 class="haping_t">准备好了么？&nbsp;<span class="po_yx_home_tiao">跳</span><span class="po_yx_home_ba">吧</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '{2}' +
      '<div class="po_yx_home_more_div"><a href="{1}" target="_blank" class="po_yx_home_more">更多职位尽在&nbsp;<label class="po_yx_home_csdn">CSDN JOB</label></a></div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.heroHomeItem = '<div class="her_platform po_yx_home_item_div">' +
      '<div class="po_yx_home_po"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_yx_home_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div class="po_yx_home_company"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<a class="po_yx_home_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //英雄会--答题专家组
    this.heroExpertTpl = '<div class="her-r-expli po_yx_ex_div tracking-ad" data-mod="{0}">' +
      '<h3 class="tit"><span class="po_yx_ex_tit">准备好了么？&nbsp;</span><label class="po_yx_home_tiao px_yx_ex_tiao">跳</label><label class="po_yx_home_ba px_yx_ex_ba">吧</label><span class="po_yx_ex_tit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '{2}' +
      '<div class="po_yx_ex_more_div"><a href="{1}" target="_blank" class="po_yx_ex_more">更多职位尽在&nbsp;<label class="po_yx_ex_csdn">CSDN JOB</label></a></div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.heroExpertItem = '<dl class="her-r-explicon po_yx_ex_po_item_div">' +
      '<dt class="po_yx_ex_po"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></dt>' +
      '<dd class="po_yx_ex_salary"><a href="{6}" target="_blank">{7}</a></dd>' +
      '<dd class="py_yx_ex_company"><a href="{3}" title="{4}" target="_blank">{5}</a></dd>' +
      '<a class="po_yx_ex_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</dl>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //英雄会--挑战题目详情页
    this.heroFightDetailTpl = '<div class="her_format_right py_yx_fd_div tracking-ad" data-mod="{0}">' +
      '<h3 class="po_yx_fd_tit"><span>准备好了么？&nbsp;</span><label class="po_yx_home_tiao">跳</label><label class="po_yx_home_ba">吧</label><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '{2}' +
      '<div class="po_yx_fd_more_div"><a href="{1}" target="_blank" class="po_yx_fd_more">更多职位尽在&nbsp;<label class="po_yx_fd_csdn">CSDN JOB</label></a></div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.heroFightDetailItem = '<div class="po_yx_fd_item_div">' +
      '<div class="po_yx_fd_po"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_yx_fd_company"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<div class="po_yx_fd_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div><a class="po_yx_fd_iwant" href="{9}" target="_blank">我要跳槽</a></div>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //英雄会--我的英雄会
    this.heroMyTpl = '<div class="her-resultli po_yx_my_div tracking-ad" data-mod="{0}">' +
      '<h3><span>准备好了么？&nbsp;</span><label class="po_yx_home_tiao">跳</label><label class="po_yx_home_ba">吧</label><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span>' +
      '<a href="{1}" target="_blank" class="po_yx_my_more">更多职位尽在&nbsp;<label class="po_yx_my_csdn">CSDN JOB</label></a></h3>' +
      '{2}' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.heroMyItem = '<div class="po_yx_my_item_div">' +
      '<div class="po_yx_my_item_dot">▪</div>' +
      '<div class="po_yx_my_item_cont">' +
      '<div class="po_yx_my_po"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_yx_my_company"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<label class="po_yx_my_separator">|</label>' +
      '<div class="po_yx_my_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '</div>' +
      '<a class="po_yx_my_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    this.heroFightDetailTpl = this.heroMyTpl;
    this.heroFightDetailItem = this.heroMyItem;


    //在线培训--课程详情页
    this.eduDetailTpl = '<div class="boutique-curr-box tracking-ad" data-mod="{0}">' +
      '<div class="boutique-curr"><h3>准备好了么？&nbsp;<label class="po_my_my_tiao">跳</label><label class="po_my_my_ba">吧</label><label class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</label></h3>' +
      '<div class="cutt-column">' +
      '{2}' +
      '<div class="po_edu_detail_more_div"><a href="{1}" target="_blank" class="po_edu_detail_more">更多职位尽在&nbsp;<label class="po_edu_detail_csdn">CSDN JOB</label></a></div>' +
      '</div></div></div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.eduDetailItem = '<div class="po_edu_detail_item_div clearfix">' +
      '<div class="po_edu_detail_po"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}<a></a></a></div>' +
      '<div class="po_edu_detail_salary"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div class="po_edu_detail_company"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<a class="po_edu_detail_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略


    //在线培训--课程分类列表
    this.eduListTpl = this.eduDetailTpl;
    this.eduListItem = this.eduDetailItem;


//--------------------------------------------------------------------------------------------------------------------------------
    //搜索培训推广
    this.search_reco_edu = '' +
        '<div class="common-box tracking-ad" data-mod="popu_84" style="display: block;">' + //todo 增加统计号码
        '<h3 id="job-pos-title" class="po_search_tit">精品课程<a class="class-edu-more" href="http://edu.csdn.net" target="_blank" rel="external">更多</a></h3>' +
        '<div class="po_search_div">' +
        '{0}' +
        '</div>' +
        '</div>';
    this.search_reco_edu_item = '<div class="po_search_item_div">' +
        '<div class="class-img-box"><a href="{0}" target="_blank" strategy="{7}"><img src="{1}"></a></div>' +
        '<div class="class-content-box">' +
        '<div class="class-content-tit"><a href="{2}" target="_blank" title="{3}" strategy="{8}">{4}</a></div>' +
        '<div class="class-content-hp">好评率：<a href="{9}" class="class-content-hp-hpl">{5}%</a>  <span class="class-content-hp-rzx"><i class="class-content-icon">&nbsp;</i><a href="{10}" class="class-content-icon-rdx">{6}</a>人在学</span></div>' +
        '</div>' +
        '</div>';

      //<div id="adCollege" style="width: 42%;float: left;">
      this.blog_reco_edu = '<div class="tracking-ad" data-mod="popu_84">{0}</div>';            //todo 增加统计号码
      this.blog_reco_edu_item = '<dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;">' +
          '<a href="{0}" title="{1}" strategy="{3}" target="_blank">{2}</a>' +
          '</dd>';

      //<div class="related po_down_detail_big_div">
      this.down_reco_edu = '<div class="section-list panel panel-default tracking-ad" data-mod="popu_84">' + //todo 修改统计号码
          '<div class="panel-heading po_down_detail_tit_div">' +
          '<h3 class="panel-title po_down_detail_tit">相关课程</h3>' +
          '</div>' +
          '<div class="panel-body">' +
          '<ul class="down_edu_t">' +
          '{0}' +
          '</ul>' +
          '</div>' +
          '</div>' +
          '';
      this.down_reco_edu_item = '  <li style="line-height: 25px;display:block;margin-bottom: 9px;margin-top: 9px;padding-top: 0px;">' +
          '<div style="padding:0;margin:0;border:0;text-overflow: ellipsis;overflow: hidden;">' +
          '<a href="{0}" title="{1}" alt="" target="_blank" strategy="{3}">{2}</a>' +
          '</div>' +
          '</li>';

      this.edu_detail_url_base = 'http://edu.csdn.net/course/detail/';

//结束。
//----------------------------------------------------------------------------------------------------------------------------------------





    //搜索
    this.searchTpl = '<div class="common-box tracking-ad" data-mod="{0}" style="display: block;">' +
      '<h3 id="job-pos-title" class="po_search_tit">准备好了么？&nbsp;<span class="po_blg_detail_tiao">跳</span><span class="po_blg_detail_ba">吧</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '<div class="po_search_div">' +
      '{2}' +
      '<div class="po_search_more_div"><a href="{1}" target="_blank" class="po_search_more">更多职位尽在&nbsp;<label class="po_search_csdn">CSDN JOB</label></a></div>' +
      '</div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.searchItem = '<div class="po_search_item_div">' +
      '<div class="po_search_po_div"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_search_salary_div"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div class="po_search_company_div"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<a class="po_search_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>' +
      '';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略    //{9}，我要跳槽



    //下载--我的资源
    this.downMyTpl = '<div id="my-tags-side" class="panel panel-default tracking-ad" data-mod="{0}">' +
      '<div class="panel-heading po_downmy_div">' +
      '<h3 class="panel-title">准备好了么？&nbsp;<span class="po_blg_detail_tiao">跳</span><span class="po_blg_detail_ba">吧</span><span class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '</div>' +
      '<div>' +
      '{2}' +
      '</div>' +
      '<div class="po_downmy_more_div"><a href="{1}" target="_blank" class="po_downmy_more">更多职位尽在&nbsp;<label class="po_downmy_csdn">CSDN JOB</label></a></div>' +
      '</div>';//{0}，点击标记popu_36    //{1}，更多的链接    //{2}，内容
    this.downMyItem = '<div class="po_downmy_item_div">' +
      '<div class="po_downmy_po_div"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_downmy_company_div"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<div class="po_downmy_salary_div"><a href="{6}">{7}</a></div>' +
      '<a class="po_downmy_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
    //{0}，职位链接    //{1}，职位名称    //{2}，职位名称    //{3}，公司链接    //{4}，公司名称    //{5}，公司名称    //{6}，职位链接    //{7}，职位薪水    //{8}，上报策略    //{9}，我要跳槽



    //下载--下载页和下载详情页
    this.downDetailTpl = '<div class="related po_down_detail_big_div tracking-ad" data-mod="{0}">' +
      '<div>' +
      '<div class="section-list panel panel-default">' +
      '<div class="panel-heading po_down_detail_tit_div">' +
      '<h3 class="panel-title po_down_detail_tit">准备好了么？&nbsp;<span class="po_blg_detail_tiao">跳</span><span class="po_blg_detail_ba">吧</span><span class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '<a class="po_downdetail_more" href="{1}" target="_blank">更多职位尽在&nbsp;<label class="po_dwondetail_csdn">CSDN JOB</label></a>' +
      '</div>' +
      '{2}' +
      '</div>' +
      '</div>' +
      '</div>';
    this.downDetailItem = '<div class="panel-body po_down_detail_item_div">' +
      '<ul>' +
      '<li>' +
      '<div class="po_down_detail_left"><a class="con" href="{0}" title="{1}" target="_blank">【{7}】{2}</a></div>' +
      '<div class="po_down_detail_right"><a class="po_downdetail_iwant" href="http://job.csdn.net/Job/Index?jobID=81328" target="_blank">我要跳槽</a></div>' +
      '</li>' +
      '</ul>' +
      '</div>';



    //CSTO案例库列表：cstoCaseList
    this.cstoCaseListTpl = '<div class="contbox tracking-ad" data-mod="{0}">' +
      '<h3 class="po_csto_caselist_tit"><span>准备好了么？&nbsp;</span><span class="po_my_my_tiao">跳</span><span class="po_my_my_ba">吧</span><span class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '<div class="po_caselist_div">' +
      '{2}' +
      '<div class="po_caselist_more_div"><a href="{1}" target="_blank" class="po_caselist_more">更多职位尽在&nbsp;<label class="po_caselist_csdn">CSDN JOB</label></a></div>' +
      '</div>' +
      '</div>';
    this.cstoCaseListItem = '<div class="po_caselist_item_div">' +
      '<div class="po_caselist_po_div"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_caselist_salary_div"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div class="po_caselist_company_div"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<a class="po_caselist_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';



    //CSTO案例详情页：cstoCaseDetail
    this.cstoCaseDetailTpl = '<ul class="case_list po_case_detail_div tracking-ad" data-mod="{0}">' +
      '<h3 class="po_csto_casedetail_tit"><span>准备好了么？&nbsp;</span><span class="po_my_my_tiao">跳</span><span class="po_my_my_ba">吧</span><span class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '<div class="po_casedetail_div">' +
      '{2}' +
      '<div class="po_casedetail_more_div"><a href="{1}" target="_blank" class="po_casedetail_more">更多职位尽在&nbsp;<label class="po_casedetail_csdn">CSDN JOB</label></a></div>' +
      '</div>' +
      '</ul>';
    this.cstoCaseDetailItem = '<div class="po_casedetail_item_div clearfix">' +
      '<div class="po_casedetail_po_div"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_casedetail_company_div"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<div class="po_casedetail_salary_div"><a href="{6}" target="_blank">{7}</a></div>' +
      '<a class="po_casedetail_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';






    //CSTO我的T台：cstoMy
    this.cstoMyTpl = '<ul class="menu tracking-ad" data-mod="{0}">' +
      '<li class="icon selected po_csto_my_big_div">' +
      '<h3 class="po_csto_my_tit"><span>准备好了么？&nbsp;</span><span class="po_my_my_tiao">跳</span><span class="po_my_my_ba">吧</span><span class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '<div class="po_csto_my_div">' +
      '{2}' +
      '</div>' +
      '<div class="po_csto_my_more_div"><a href="{1}" target="_blank" class="po_csto_my_more">更多职位尽在&nbsp;<label class="po_csto_my_csdn">CSDN JOB</label></a></div>' +
      '</li>' +
      '</ul>';
    this.cstoMyItem = '<div class="po_csto_my_item_div">' +
      '<div class="po_csto_my_po_div"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_csto_my_salary_div"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div class="po_csto_my_company_div"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<a class="po_csto_my_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';


    //CSTO项目列表页：cstoProjectList
    this.cstoProjectListTpl = '' +
      '' +
      '' +
      '';
    this.cstoProjectListItem = '' +
      '' +
      '' +
      '';




    //CSTO项目详情页：cstoProjectDetail
    this.cstoProjectDetailTpl = '<div class="bid_scheme tracking-ad" data-mod="{0}">' +
      '<h3 class="po_csto_proj_detail_tit"><span>准备好了么？&nbsp;</span><span class="po_my_my_tiao">跳</span><span class="po_my_my_ba">吧</span><span class="po_blg_detail_th">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;！</span></h3>' +
      '<div class="po_proj_detail_div">' +
      '{2}' +
      '<div class="po_proj_detail_more_div"><a href="{1}" target="_blank" class="po_proj_detail_more">更多职位尽在&nbsp;<label class="po_proj_detail_csdn">CSDN JOB</label></a></div>' +
      '</div>' +
      '</div>';
    this.cstoProjectDetailItem = '<div class="po_proj_detail_item_div clearfix">' +
      '<div class="po_proj_detail_po_div"><a href="{0}" title="{1}" strategy="{8}" target="_blank">{2}</a></div>' +
      '<div class="po_proj_detail_salary_div"><a href="{6}" target="_blank">{7}</a></div>' +
      '<div class="po_proj_detail_company_div"><a href="{3}" title="{4}" target="_blank">{5}</a></div>' +
      '<a class="po_proj_detail_iwant" href="{9}" target="_blank">我要跳槽</a>' +
      '</div>';
      this.getCount = 300;
  };

  Position.prototype = {
    show: function(conf) {
      var _conf = conf;
      var _this = this;
      _this.show_inner(_conf);
      /*$(window).load(function() {
        _this.show_inner(_conf);
      });*/
    },
    showEdu: function(conf) {
        var _conf = conf;
        var _this = this;
        _this.show_edu_mlgb(_conf);
    },
    show_edu_mlgb: function(conf) {
        this.sourceType = conf.sourceType;//blog, bbs, downlowd, ask, space, hero, edu, csto .....
        this.searchType = conf.searchType;
        this.searchKey = conf.searchKey;
        this.username = conf.username ? conf.username : '';
        this.recordcount = conf.recordcount;
        this.containerId = conf.containerId;

        this.$container = $("#" + this.containerId);
        this.prefix = window.location.protocol;
        this.load_edu_reco();
    },
      load_edu_reco: function() {
          var tpl = '';
          var itemTpl = '';
          var _url = '';
          _data = {};
          //var urlBase = 'http://192.168.5.75:9400';
          //var urlBase = 'http://p.search.dm.csdn.net';

          var kk = this.searchKey.replace(/%/g,"%25").replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g, "%2B");
          var urlBase = 'http://internalapi.csdn.net/psearch/psearch/query?x-acl-token=kUOm7x6dCaKGFa8RxxLQ5Hm75ioK&index_name=pro_course_v2';
          if (this.sourceType == 'so') {
              tpl = this.search_reco_edu;
              itemTpl = this.search_reco_edu_item;
              //url = 'http://p.search.dm.csdn.net/v2/pro_course/csdn/_search?_client_=rcommend_course&fields=id,title,stu_count,good_ratio,rc_flag&searchStr=初级java教程&user_id=blogchong';
              _url = urlBase + '&search_str=' + kk; // + '/v2/pro_course_v2/csdn/_search';
              _data = {'_client_': 'rcommend_course','fields': 'id,title,pic,stu_count,good_ratio,rc_flag,source_type', 'user_id': this.username, 'size': this.recordcount}; //'search_str': kk,
              if (this.username == '')
              _data = {'_client_': 'rcommend_course','fields': 'id,title,pic,stu_count,good_ratio,rc_flag,source_type', 'size': this.recordcount}; //'search_str': kk,
          } else if (this.sourceType == 'blog') {
              tpl = this.blog_reco_edu;
              itemTpl = this.blog_reco_edu_item;
              //url = 'http://p.search.dm.csdn.net/v2/pro_course/csdn/_search?_client_=rcommend_course&fields=id,title,stu_count,good_ratio,rc_flag&pro_id=45521251&pro_type=blog&user_id=blogchong';
              _url = urlBase + '&pro_id=' + kk;// + '/v2/pro_course_v2/csdn/_search';
              _data = {'_client_': 'rcommend_course','fields': 'id,title,pic,stu_count,good_ratio,rc_flag,source_type', 'pro_type': 'blog', 'user_id': this.username, 'size': this.recordcount}; //'pro_id': kk,

              if (this.username == '')
                  _data = {'_client_': 'rcommend_course','fields': 'id,title,pic,stu_count,good_ratio,rc_flag,source_type', 'pro_type': 'blog', 'size': this.recordcount}; //'pro_id': kk,
          } else if (this.sourceType == 'down') {
              tpl = this.down_reco_edu;
              itemTpl = this.down_reco_edu_item;
              //url = 'http://p.search.dm.csdn.net/v2/pro_course/csdn/_search?_client_=rcommend_course&fields=id,title,stu_count,good_ratio,rc_flag&pro_id=45521251&pro_type=blog&user_id=blogchong';
              _url = urlBase + '&pro_id=' + kk;// + '/v2/pro_course_v2/csdn/_search';
              _data = {'_client_': 'rcommend_course','fields': 'id,title,pic,stu_count,good_ratio,rc_flag,source_type', 'pro_type': 'download', 'user_id': this.username, 'size': this.recordcount}; //'pro_id': kk,
              if (this.username == '')
                  _data = {'_client_': 'rcommend_course','fields': 'id,title,pic,stu_count,good_ratio,rc_flag,source_type', 'pro_type': 'download', 'size': this.recordcount}; //'pro_id': kk,
          }
          if (tpl == '') return;
          var _this = this;
          $.ajax({
              type: 'get',
              url: _url,
              data: _data,
              dataType: "jsonp",
              jsonp: "callback",
              async: false,
              success: function(result) {
                  if (result.hits && result.hits.length > 0) {
                      var htmlItems = '';
                      for (var i = 0; i < _this.recordcount; i ++) {
                          var item = result.hits[i].object;
                          var htmlItem = '';
                          if (_this.sourceType == 'so') {
                              var rzx = item.stu_count ? item.stu_count : 0;
                              var kcurl = _this.edu_detail_url_base + item.id;
                              htmlItem = itemTpl.replace(/\{0\}/, kcurl) //课程url
                                  .replace(/\{1\}/, item.pic)            //图片url
                                  .replace(/\{2\}/, kcurl)               //课程url
                                  .replace(/\{3\}/, item.title)          //课程标题
                                  .replace(/\{4\}/, item.title)          //课程名称
                                  .replace(/\{5\}/, item.good_ratio == 0 ? 100 : item.good_ratio)     //好评率
                                  .replace(/\{6\}/, rzx)                 //正在学习的人数
                                  .replace(/\{7\}/, item.rc_flag)        //策略
                                  .replace(/\{8\}/, item.rc_flag)        //策略
                                  .replace(/\{9\}/, kcurl)               //课程url
                                  .replace(/\{10\}/, kcurl);             //课程url
                          } else if (_this.sourceType == 'blog' || _this.sourceType == 'down') {
                              htmlItem = itemTpl.replace(/\{0\}/, _this.edu_detail_url_base + item.id)
                                  .replace(/\{1\}/, item.title)
                                  .replace(/\{2\}/, item.title) //'【精品课程】' + item.title
                                  .replace(/\{3\}/, item.rc_flag);
                          }
                          htmlItems += htmlItem;
                      }
                      var jHtml = tpl.replace(/\{0\}/, htmlItems);
                      var tdd = $(jHtml).appendTo(_this.$container);
                      var tds = [];
                      tds.push(tdd[0]);
                      try {
                          window['trackingAd']($(tds));
                      } catch(ee){};
                  }
              },
              error: function(result) {
                  var i = 0;
              }
          }); //问题：记录数；类型只有blog、download、bbs没有搜索；

          //todo 暂时处理一下，因为看不懂原来的猜你在找代码。后面找时间把猜你在找调整为只显示5条数据。
          $(function() {
              var count = 0;
              var setFive = setInterval(function() {
                  count ++;
                  if (count > _this.getCount) {
                      clearInterval(setFive);
                  }
                  $('#res').hide();
                  var cc = $('#res').children();
                  if (cc.length > 5) {
                      for (var i = 0; i < cc.length; i++) {
                          clearInterval(setFive);
                          var item = cc[i];
                          if (i > 4) {
                              $(item).remove();
                          }
                      }
                      $('#res').show();
                  }
              }, 200);
          });
      },
    show_inner: function(conf) {
      this.sourceType = conf.sourceType;//blog，bbs, download，ask, space, hero, edu, csto .....
      this.tplType = conf.tplType;
      //模板类型，博客详情：blogDetail，博客专栏：blogSpec，论坛详情：bbsDetail，问答首页：askDetail，个人空间--我的空间：personalSpaceMy，个人空间--首页：personalSpaceHome，
      //英雄会--首页：heroHome，英雄会--答题专家组：heroExpert，英雄会--挑战题目详情页：heroFightDetail，英雄会--我的英雄会：heroMy，
      //在线培训--课程分类列表页：eduList，在线培训--课程详情页：eduDetail，.....
      this.searchType = conf.searchType;//页面类型，用于搜索函数，detail(详情页) / list(列表页)。
      this.searchKey = conf.searchKey;//搜索关键字，例如博客详情：博文ID，如果是博客专栏：分类字符串。
      this.username = conf.username;
      this.containerId = conf.containerId;

      this.$container = $("#" + this.containerId);
      this.prefix = window.location.protocol;

      this.load();
    },
    goInPage: function(containerTpl, itemTpl, container, _prefix) {
      var homeUrl = _prefix + "//job.csdn.net";
      var jHtml = containerTpl.replace(/\{0\}/, "popu_72")
       .replace(/\{1\}/, homeUrl)
       .replace(/\{2\}/, totalHtmlItems);
       //container.html(jHtml);
       container.html("");
       var tdd = $(jHtml).appendTo(container);
       var tds = [];
       tds.push(tdd[0]);
       try {
       window['trackingAd']($(tds));
       } catch(ee) {};
       return true;
    },
    totalHtmlItems: "",
    load: function() {
      var that = this;
      if (that.searchKey === "NO" && that.username === "") {
        return;
      }

      var _url = that.get_url(that.username, that.searchType, that.searchKey, that.sourceType, that.tplType);
      var _strategy = that.get_strategy(that.username, that.searchType);
      var containerTpl = that.get_containerTpl(that.tplType);
      var itemTpl = that.get_itemTpl(that.tplType);

      //that.username = that.getUserName();

      $.ajax({
        type: "get",
        url: _url,
        dataType: "jsonp",
        jsonp: "callback",
        async: false,
        success: function (obj) {
          totalHtmlItems = "";
          var htmlItems = "";
          var count = obj.hits.length;
          if (obj.hits && obj.hits.length > 0) {
            totalHtmlItems = that.getData(that.$container, obj.hits, containerTpl, itemTpl, that.prefix, _strategy, true);
          }
          if (count < 4 && that.username && that.searchType == "detail") {
            //以内容搜索职位，再次发送请求
            var _strategy_detail = that.get_strategy("", "detail");
            that.loadByDetail(containerTpl, itemTpl, _strategy_detail, count, that.$container, that.prefix);
          } else if (count < 4) {
            //以最新职位发送请求。
            var _strategy_latest = that.get_strategy("", "latest");
            htmlItems = that.loadByLatest(containerTpl, itemTpl, _strategy_latest, count, that.$container, that.prefix);
          }
          if (count >= 4) {
            that.goInPage(containerTpl, itemTpl, that.$container, that.prefix);
          }
        },
        error: function(err) {
          var i = 0;
          //alert('err');
        }
      });
    },
    loadByDetail: function(_containerTpl, _itemTpl, _strategy, _count, _containerObj, _prefix) {
      var that = this;
      var _url = that.get_url("", that.searchType, that.searchKey, that.sourceType, that.tplType , 4 - _count);
      $.ajax({
        type: "get",
        url: _url,
        dataType: "jsonp",
        jsonp: "callback",
        async: false,
        success: function (obj) {
          var count = obj.hits.length;
          var htmlItems = "";
          if (obj.hits && obj.hits.length > 0) {
            totalHtmlItems += that.getData(_containerObj, obj.hits, _containerTpl, _itemTpl, _prefix, _strategy, false);
          }
          if (count + _count < 4) {
            //以最新职位再次发送请求。
            var _strategy_latest = that.get_strategy("", "latest");
            that.loadByLatest(_containerTpl, _itemTpl, _strategy, count + _count, _containerObj, _prefix);
          }
          if (count + _count >= 4) {
            that.goInPage(_containerTpl, _itemTpl, _containerObj, _prefix);
          }
        },
        error: function(err) {
          var i = 0;
        }
      });
    },
    loadByLatest: function(_containerTpl, _itemTpl, _strategy, _count, _containerObj, _prefix) {
      var that = this;
      var _url = "http://job.csdn.net/api/lastJobList";//http://job.csdn.net/api/lastJobList //http://tmpjob.csdn.net/api/LastJobList

      var homeUrl = _prefix + "//job.csdn.net";
      var jobUrl = _prefix + "//job.csdn.net/Job/Index?jobID=";
      var companyUrl = _prefix + "//pr.csdn.net/enterprise/ent_home?orgid=";

      $.ajax({
        type: "get",
        url: _url,
        dataType: "jsonp",
        jsonp: "callback",
        async: false,
        success: function(obj) {
          var count = obj;
          if (obj.Data && obj.Data.paperList && obj.Data.paperList.length > 0 && obj.Data.paperList.length >= 4 - _count) {
            var htmlItems = "";
            for (var i = 0; i <  4 - _count; i ++) {
              var item = obj.Data.paperList[i];
              if (item.JobID && item.JobName && item.OrgID && item.OrgName && item.SalaryMax && item.SalaryMin) {
                var salaryText = "";
                if (item.SalaryMax == 0 && item.SalaryMin == 0) {
                  salaryText = "面议";
                } else {
                  var mins = item.SalaryMin / 1000;
                  var maxs = item.SalaryMax / 1000;
                  salaryText = mins + "-" + maxs + "K/月";
                }

                var htmlItem = _itemTpl.replace(/\{0\}/, jobUrl + item.JobID)
                  .replace(/\{1\}/, item.JobName)
                  .replace(/\{2\}/, item.JobName)
                  .replace(/\{3\}/, companyUrl + item.OrgID)
                  .replace(/\{4\}/, item.OrgName)
                  .replace(/\{5\}/, item.OrgName)
                  .replace(/\{6\}/, jobUrl + item.JobID)
                  .replace(/\{7\}/, salaryText)
                  .replace(/\{8\}/, _strategy)
                  .replace(/\{9\}/, jobUrl + item.JobID);

                htmlItems  += htmlItem;
              }
            }
            totalHtmlItems += htmlItems;
            /*if (htmlItems != "") {
              var jHtml = _containerTpl.replace(/\{0\}/, "popu_72")
                .replace(/\{1\}/, homeUrl)
                .replace(/\{2\}/, htmlItems);
              //_containerObj.html("");
              var tdd = $(jHtml).appendTo(_containerObj);
              var tds = [];
              tds.push(tdd[0]);
              try {
                window['trackingAd']($(tds));
              } catch (ee) {};
            }*/
          }
          that.goInPage(_containerTpl, _itemTpl, _containerObj, _prefix);
          return "";
          /*
           obj.Data.paperList[0].JobID
           obj.Data.paperList[0].JobName
           obj.Data.paperList[0].OrgID
           obj.Data.paperList[0].OrgName
           obj.Data.paperList[0].SalaryMax
           obj.Data.paperList[0].SalaryMin
          * */
        },
        error: function(err) {
          var i = 0;
        }
      });
    },
    getData: function(container, items, containerTpl, itemTpl, prefix, _strategy, isClear) {
      var homeUrl = prefix + "//job.csdn.net";
      var jobUrl = prefix + "//job.csdn.net/Job/Index?jobID=";//职位页面url，样例：http://job.csdn.net/Job/Index?jobID=80500，http://tmpjob.csdn.net/Job/Index?jobID=80500
      var companyUrl = prefix + "//pr.csdn.net/enterprise/ent_home?orgid=";//3，样例：http://pr.csdn.net/enterprise/ent_home?orgid=406854，http://lpr.csdn.net/enterprise/ent_home?orgid=406854

      var htmlItems = "";
      for (var i = 0; i < items.length; i++) {
        var item = items[i];
        var obj = item.object;
        if (obj.id && obj.title && obj.org_id && obj.org_name) {
          var salaryText = "";
          if (obj.salary_max == 0 && obj.salary_min == 0) {
            salaryText = "面议";
          } else {
            var mins = obj.salary_min / 1000;
            var maxs = obj.salary_max / 1000;
            salaryText = mins + "-" + maxs + "K/月";
          }

          var htmlItem = itemTpl.replace(/\{0\}/, jobUrl + obj.id)
            .replace(/\{1\}/, obj.title)
            .replace(/\{2\}/, obj.title)
            .replace(/\{3\}/, companyUrl + obj.org_id)
            .replace(/\{4\}/, obj.org_name)
            .replace(/\{5\}/, obj.org_name)
            .replace(/\{6\}/, jobUrl + obj.id)
            .replace(/\{7\}/, salaryText)
            .replace(/\{8\}/, _strategy)
            .replace(/\{9\}/, jobUrl + obj.id);
          //{0}，职位链接  //{1}，职位名称  //{2}，职位名称  //{3}，公司链接  //{4}，公司名称  //{5}，公司名称  //{6}，职位链接  //{7}，职位薪水  //{8}，上报策略
          htmlItems += htmlItem;
        }
      }
      return htmlItems;

      /*var jHtml = containerTpl.replace(/\{0\}/, "popu_72")
        .replace(/\{1\}/, homeUrl)
        .replace(/\{2\}/, htmlItems);
      //container.html(jHtml);
      if (isClear) {
        container.html("");
      }
      var tdd = $(jHtml).appendTo(container);
      var tds = [];
      tds.push(tdd[0]);
      try {
        window['trackingAd']($(tds));
      } catch(ee) {};
      return true; */
    },
    get_strategy: function(un, searcht) {
      var _st = "";
      if (un != "") {
        _st = "PersonalRecommend";
      } else if (searcht == "detail") {
        _st = "DetailRecommend";
      } else if (searcht == "list") {
        _st = "ListRecommend";
      } else if (searcht == "latest") {
        _st = "LatestRecommend";
      } else {
        _st = "unknown";
      }

      return _st;
    },
    get_itemTpl: function(tplType) {
      var c = "";
      switch (tplType) {
        case "blogDetail":
          c = this.blogItem;
          break;
        case "blogSpec":
          c = this.blogSpecItem;
          break;
        case "bbsDetail":
          c = this.bbsItem;
          break;
        case "askDetail":
          c = this.askItem;
          break;
        case "personalSpaceMy":
          c = this.perSpaceMyItem;
          break;
        case "personalSpaceHome":
          c = this.perSpaceHomeItem;
          break;
        case "heroHome":
          c = this.heroHomeItem;
          break;
        case "heroExpert":
          c = this.heroExpertItem;
          break;
        case "heroFightDetail":
          c = this.heroFightDetailItem;
          break;
        case "heroMy":
          c = this.heroMyItem;
          break;
        case "eduList":
          c = this.eduListItem;
          break;
        case "eduDetail":
          c = this.eduDetailItem;
          break;
        case "search":
          c = this.searchItem;
          break;
        case "downMy":
          c = this.downMyItem;
          break;
        case "downDetail":
          c = this.downDetailItem;
          break;
        case"cstoCaseList":
          c = this.cstoCaseListItem;
          break;
        case"cstoCaseDetail":
          c = this.cstoCaseDetailItem;
          break;
        case"cstoMy":
          c = this.cstoMyItem;
          break;
        case"cstoProjectList":
          c = this.cstoCaseListItem;//同案例列表
          break;
        case"cstoProjectDetail":
          c = this.cstoProjectDetailItem;
          break;
        default:
          break;
      }
      return c;
    },
    get_containerTpl: function(tplType) {
      var c = "";
      switch (tplType) {
        case "blogDetail":
          c = this.blogTpl;
          break;
        case "blogSpec":
          c = this.blogSpecTpl;
          break;
        case "bbsDetail":
          c = this.bbsTpl;
          break;
        case "askDetail":
          c = this.askTpl;
          break;
        case "personalSpaceMy":
          c = this.perSpaceMyTpl;
          break;
        case "personalSpaceHome":
          c = this.perSpaceHomeTpl;
          break;
        case "heroHome":
          c = this.heroHomeTpl
          break;
        case "heroExpert":
          c = this.heroExpertTpl;
          break;
        case "heroFightDetail":
          c = this.heroFightDetailTpl;
          break;
        case "heroMy":
          c = this.heroMyTpl;
          break;
        case "eduList":
          c = this.eduListTpl;
          break;
        case "eduDetail":
          c = this.eduDetailTpl;
          break;
        case "search":
          c = this.searchTpl;
          break;
        case "downMy":
          c = this.downMyTpl;
          break;
        case "downDetail":
          c = this.downDetailTpl;
          break;
        case "cstoCaseList":
          c = this.cstoCaseListTpl;
          break;
        case "cstoCaseDetail":
          c = this.cstoCaseDetailTpl;
          break;
        case "cstoMy":
          c = this.cstoMyTpl;
          break;
        case "cstoProjectList":
          c = this.cstoCaseListTpl;//同案例列表
          break;
        case "cstoProjectDetail":
          c = this.cstoProjectDetailTpl;
          break;
        default:
          break;
      }
      return c;
    },
    get_url: function(un, searcht, key, st, tt, count) {
      var _st = st;
      var kk = key.replace(/%/g,"%25").replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g, "%2B");
      var u = "http://internalapi.csdn.net/psearch/psearch/query?x-acl-token=kUOm7x6dCaKGFa8RxxLQ5Hm75ioK&index_name=test_b2d_job_141211&_client_=";
      //var u = "http://p.search.dm.csdn.net/v2/test_b2d_job_141211/csdn/_search?_client_=";
      if (un != "" && un != undefined && un != null) {
        _st = "uc_proxy";
        u = u + "search_job_by_user";
        u = u + "&from=1&size=4";
        u = u + "&id=" + un;
      } else if (tt == "search") {
        u = u + "job_position_query";
        u = u + "&like=title:" + kk;
        u = u + "&shouldNum=0&from=1&size=" + (count ? count : 4);
      } else if (searcht == "detail") {
        u = u + "search_job_by_content";
        u = u + "&id=" + kk;
        u = u + "&from=1&size=" + (count ? count : 4);
      } else if (searcht == "list") {
        u = u + "search_job_by_content";
        u = u + "&content=" + kk;
        u = u + "&from=1&size=" + (count ? count : 4);
      }
      u = u + "&source_type=" + _st;
      u = u + "&fields=id,publish_time,title,org_name,org_id,salary_max,salary_min";
      return u;
    },
    getThisCss: function() {
      $("<link>")
        .attr({ rel: "stylesheet",
          type: "text/css",
          href: csdn.position.prefix + "//csdnimg.cn/jobreco/job_reco.css"
        })
        .appendTo("head");
    },
    getUserName: function() {
      return this.getCookie("UserName");
    },
    getCookie: function(objName) {
      var arrStr = document.cookie.split("; ");
      for(var i = 0;i < arrStr.length;i ++){
        var temp = arrStr[i].split("=");
        if(temp[0] == objName) return decodeURI(temp[1]);
      }
    },
    evil: function() {
    }
  };

  csdn.position = new Position();
  window["csdn"] = csdn;
})(window);</div></div></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/TCP建立连接三次握手和释放连接四次握手 - guyuealian的博客 - 博客频道 - CSDN.NET_files/replace/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-11T23:29:53+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            #relate,.relage_t,.relate_t span,.relate_c,.relate_list,.relate_list dt,.relate_list dt img,.relate_list dd,.relate_list dd h4,.relate_list dd p,.relate_list dd p span{ margin: 0; padding: 0;}
#relate{ display: none; background: #fff; padding:0 20px 20px; margin: 20px 0; overflow: hidden;}
.relate_t{ height: 35px; line-height:35px; border-bottom:solid 1px #ccc;}
.relate_t span{ display: inline-block; height: 35px; border-bottom: solid 1px #cc0000;}
.relate_c{ padding: 0 ; margin-right:-40px;}
.relate_list{ float:left; width: 285px; margin:20px 40px 0 0;}
/*.relate_list:nth-child(odd){ margin-right:0;}*/
.relate_list dt{ float: left; width: 50px; height: 50px; border:solid 1px #dfdfdf; padding:5px;}
.relate_list dt img{height: 50px; width:50px;}
.relate_list dd{ padding-left:20px; float: left; margin: 0;}
.relate_list dd h4 a{ font-size: 14px; color: #333; text-decoration: none; display: block; width: 100%; text-overflow: ellipsis; overflow: hidden; white-space: nowrap;}
.relate_list dd p{ padding-top:10px; font-size: 12px;}
.relate_list dd p span,.relate_list dd p em,.relate_list dd p i{ font-style: normal;}
.relate_list dd p span{ color: #64b1cb; margin-right:6px;}
.relate_list dd p i{ margin: 0 6px;}
#res-relatived{ clear: both;}
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/IMG_0604.JPG"
               alt="Elaine" />
          <p class="site-author-name" itemprop="name">Elaine</p>
          <p class="site-description motion-element" itemprop="description">Accept what was and what is, and you'll have more positive energy to pursue what will be.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">53</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Elaine</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
